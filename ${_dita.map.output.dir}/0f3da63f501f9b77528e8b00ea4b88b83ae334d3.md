<?xml version="1.0" encoding="UTF-8"?><?workdir /C:\Users\Admin\AppData\Local\Temp\temp20190705175957444?><?workdir-uri file:/C:/Users/Admin/AppData/Local/Temp/temp20190705175957444/?><?path2project ..\?><?path2project-uri ../?><?path2rootmap-uri ../?><topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="smtx-os-块存储服务-cli-命令参考手册" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:1;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:1;182:3">SMTX OS 块存储服务 CLI 命令参考手册</title><prolog class="- topic/prolog " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="prolog:1;182:3"><data class="- topic/data " name="hide_title" value="true" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="data:1;182:3"/><data class="- topic/data " name="title" value="SMTX OS 块存储服务 CLI 命令" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="data:2;182:3"/><data class="- topic/data " name="type" value="docs" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="data:3;182:3"/></prolog><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:1;182:3"/><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="概述" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:2;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:2;182:3">概述</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:2;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:1;182:3">SMTX OS 超融合平台通过软件定义的技术和 x86 服务器实现了分布式块存储、虚拟化计算、数据保护、网络管理等 IT 基础服务，让企业 IT 数据中心的构建和“搭积木”一样简单。SMTX OS 内置了基于 KVM 的虚拟化平台，同时也支持主流虚拟化计算平台： XenServer 和 vSphere。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:2;182:3">除了可以通过 SMTX OS 的可视化运维管理平台 Web 控制台图形界面对 SMTX OS 的块存储服务（内部项目代号 ZBS）进行操作外，SMTX OS 同时也提供了丰富的命令行（CLI）供用户使用，而且有些功能只能通过命令行来实现。大多数情况下，鼓励用户使用更直观、容易的 Web 控制台进行操作。本文介绍常用的命令行命令。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="目标读者" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:3;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:3;182:3">目标读者</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:3;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:3;182:3">本文档针对需要使用命令行对 ZBS 进行控制、操作、管理的人员使用。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="字体样式" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:4;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:4;182:3">字体样式</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:4;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:4;182:3">命令行中的所使用的某些字体样式有特殊含义，如下表：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:1;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:1;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:1;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:2;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:1;182:3">
<row class="- topic/row " outputclass="header" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:1;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:1;182:3">字体样式</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:2;182:3">描述</entry>
</row>
</thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:1;182:3">
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:2;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:3;182:3">zbs-meta migrate list</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:4;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:5;182:3">命令语法中必须如此这般输入的，不如此输入便会报错的部分。</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:6;182:3">例如：zbs-meta migrate list</p></entry>
</row>
<row class="- topic/row " outputclass="even" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:3;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:5;182:3">&lt;parameter_value&gt;</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:6;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:7;182:3">需要用户输入具体的参数值用尖括号内的斜体表示。</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:8;182:3">例如: shutdown &lt;IP address&gt;</p></entry>
</row>
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:4;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:7;182:3">|</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:8;182:3">竖线表示待选参数，且待选参数中必须选择一个，不能一个不选。</entry>
</row>
<row class="- topic/row " outputclass="even" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:5;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:9;182:3">{}</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:10;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:9;182:3">常规花括号表示必须在多个选项中选择一个作为参数。</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:10;182:3">例如： shutdown {&lt;IP address&gt; | &lt;MAC address&gt;}</p></entry>
</row>
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:6;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:11;182:3">[]</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:12;182:3">常规方括号表示可选参数，可为空。例如：shutdown [force | now]</entry>
</row>
</tbody></tgroup></table></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-cli-命令介绍" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:5;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:5;182:3">ZBS CLI 命令介绍</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:5;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:11;182:3">现有 ZBS CLI 命令分为以下几个大类：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:2;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:2;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:3;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:4;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:2;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:7;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:13;182:3">类别</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:14;182:3">说明</entry></row></thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:2;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:8;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:15;182:3">zbs-meta</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:16;182:3">ZBS 分布式管理中心 (主要管理中心, 含 chunk/存储池/拓扑相关管理等)。</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:9;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:17;182:3">zbs-chunk</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:18;182:3">ZBS 本地 chunk 管理 (含缓存/日志/分区相关管理等)。</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:10;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:19;182:3">zbs-iscsi</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:20;182:3">ZBS iSCSI 相关业务管理 (含 iSCSI 目标/LUN 相关管理等)。</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:11;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:21;182:3">zbs-nfs</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:22;182:3">ZBS NFS 相关业务管理 (含 NFS export/索引节点（inode） 相关管理等)。</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:12;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:23;182:3">zbs-task</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:24;182:3">ZBS 任务相关业务管理 (含 VIP 相关设置等)</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:13;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:25;182:3">zbs-tool</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:26;182:3">ZBS 辅助工具 (含 ZooKeeper 和 Mongo 的简单管理等)。</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:14;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:27;182:3">zbs-perf</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:28;182:3">ZBS 显示单独卷性能。</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:15;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:29;182:3">zbs-cluster</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:30;182:3">ZBS 集群级别操作与管理</entry></row></tbody></tgroup></table><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:12;182:3">任何命令后都可以输入 -h 或者 --help 获得此命令的帮助提示。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:6;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:6;182:3">zbs-meta</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:6;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:13;182:3">meta 是 ZBS 分布式存储系统中的核心之一，主要用于元数据的存储与管理，使用 zbs-meta 命令可以对数据存储和存储卷进行具体操作，同时还可以查看集群状态等功能。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:14;182:3">zbs-meta 命令主要分为以下几大类：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:3;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:3;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:5;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:6;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:3;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:16;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:31;182:3">类别</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:32;182:3">说明</entry></row></thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:3;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:17;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:33;182:3">local</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:34;182:3">管理本地元数据</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:18;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:35;182:3">cluster</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:36;182:3">管理集群</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:19;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:37;182:3">chunk</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:38;182:3">管理集群中的 chunk</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:20;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:39;182:3">pool</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:40;182:3">管理数据存储</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:21;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:41;182:3">volume</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:42;182:3">管理存储卷</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:22;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:43;182:3">pextent</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:44;182:3">管理 pextent</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:23;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:45;182:3">snapshot</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:46;182:3">管理快照</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:24;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:47;182:3">migrate</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:48;182:3">管理迁移</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:25;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:49;182:3">recover</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:50;182:3">管理恢复</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:26;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:51;182:3">enable</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:52;182:3">启用元数据服务</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:27;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:53;182:3">disable</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:54;182:3">禁用元数据服务</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:28;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:55;182:3">show</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:56;182:3">显示元数据服务状态</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:29;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:57;182:3">license</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:58;182:3">管理许可证</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:30;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:59;182:3">storage_pool</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:60;182:3">管理存储池</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:31;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:61;182:3">topo</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:62;182:3">管理拓扑</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:32;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:63;182:3">session</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:64;182:3">管理会话</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:33;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:65;182:3">reroute</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:66;182:3">重路由服务命令</entry></row></tbody></tgroup></table></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-local" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:7;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:7;182:3">zbs-meta local</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:7;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:15;182:3">local 参数可以查看本地 meta 的状态，其中 alive_meta_hosts 显示的是集群中各个主节点的 data_ip；leader 显示的是集群当前 leader 的 data_ip；meta_status 可以看到本地 meta 状态。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-local-status" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:8;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:8;182:3">zbs-meta local status</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:8;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:16;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:1;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:17;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:1;182:3">zbs-meta local status</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:18;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:2;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:19;182:3">查看本地 meta 状态。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:20;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:3;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:1;182:3">{ 'alive_meta_hosts': [ { 'ip': u'10.10.0.3',

'port': 10100},

{ 'ip': u'10.10.0.1',

'port': 10100}],

'is_leader': True,

'leader': u'10.10.0.3:10100',

'meta_status': 'META_RUNNING'}</codeblock></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-cluster" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:9;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:9;182:3">zbs-meta cluster</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:9;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:21;182:3">cluster 参数可以查看当前集群环境的状态。summary 能够看到 healthy_nodes、total_space、used_space 等集群整体状态信息；perf 可以看到集群的性能信息，能够看到 bandwidth、iops、latency。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-cluster-summary" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:10;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:10;182:3">zbs-meta cluster summary</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:10;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:22;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:4;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:23;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:2;182:3">zbs-meta cluster summary</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:24;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:5;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:25;182:3">使用 summary 查看当前集群整体信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:26;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:6;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:2;182:3">{'alive_meta_hosts': [{'ip': u'10.0.10.23', 'port': 10100},

{'ip': u'10.0.10.22', 'port': 10100},

{'ip': u'10.0.10.21', 'port': 10100}],

'alloced_pids': 7033,

'connecting_nodes': 0,

'dirty_cache_space': 125583228928L,

'error_nodes': 2,

'healthy_nodes': 3,

'idle_nodes': 0,

'in_use_nodes': 5,

'leader': u'10.0.10.23:10100',

'migrate_enabled': True,

'num_ongoing_migrates': 0,

'num_ongoing_recovers': 0,

'num_pending_migrates': 4096,

'num_pending_recovers': 0,

'num_pending_recycles': 0,

'provisioned_space': 1241782419456L,

'recover_enabled': True,

'recover_migrate_speed': 0L,

'removing_nodes': 1,

'serial': u'f6e50d82-219d-4eb9-a25a-34ced1a58801',

'storage_pools': [...],

'total_cache_space': 2740234223616L,

'total_nodes': 6,

'total_space': 20699058012160L,

'used_cache_space': 1846786129920L,

'used_space': 1051193245696L,

'warning_nodes': 0}</codeblock><lq class="- topic/lq " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="lq:1;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:27;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:7;182:3">注意：</b>
在出现坏盘或者拔盘的情况下，total_space 可能出现比 used_space 小的情况。这是因为 total_space 会排除坏盘或拔出磁盘的空间，而 used_space 则需要等待数据恢复后才会被更新。</p></lq></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-cluster-perf" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:11;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:11;182:3">zbs-meta cluster perf</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:11;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:28;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:8;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:29;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:3;182:3">zbs-meta cluster perf</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:30;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:9;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:31;182:3">查看当前集群性能数据。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:32;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:10;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:3;182:3">--------------- ----------

read_iops 0.0

read_avgrq 0 B

read_avgqz 0.0

read_bandwidth 0 B/s

read_latency 0.0 NS

write_iops 8271.0

write_avgrq 4.00 KB

write_avgqz 202.2

write_bandwidth 32.30 MB/s

write_latency 24.44 MS

--------------- ----------
</codeblock><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:33;182:3">字段和说明:</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:4;182:3"><tgroup class="- topic/tgroup " cols="3" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:4;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:7;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:8;182:3"/><colspec class="- topic/colspec " colname="col3" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:9;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:4;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:34;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:67;182:3">字段</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:68;182:3">说明</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:69;182:3">单位</entry></row></thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:4;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:35;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:70;182:3">read_iops:</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:71;182:3">集群读请求 IOPS。</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:72;182:3">次/s</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:36;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:73;182:3">read_avgrq</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:74;182:3">集群读请求的平均请求块大小（估算）。</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:75;182:3">byte, 自动调整</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:37;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:76;182:3">read_avgq</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:77;182:3">集群读请求平均深度（估算）。</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:78;182:3">无</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:38;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:79;182:3">read_bandwidth</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:80;182:3">集群读请求带宽。</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:81;182:3">byte/s, 自动调整</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:39;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:82;182:3">read_latency</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:83;182:3">集群读请求延迟。</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:84;182:3">ns, 自动调整</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:40;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:85;182:3">write_iops</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:86;182:3">集群写请求 IOPS。</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:87;182:3">次/s</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:41;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:88;182:3">write_avgrq</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:89;182:3">集群写请求的平均请求块大小（估算）。</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:90;182:3">byte, 自动调整</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:42;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:91;182:3">write_avgqz</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:92;182:3">集群写请求平均深度（估算）。</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:93;182:3">无</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:43;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:94;182:3">write_bandwidth</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:95;182:3">集群写请求带宽。</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:96;182:3">byte, 自动调整</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:44;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:97;182:3">write_latency</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:98;182:3">集群写请求延迟。</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:99;182:3">ns, 自动调整</entry></row></tbody></tgroup></table></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-cluster-upgrade-mode" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:12;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:12;182:3">zbs-meta cluster upgrade_mode</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:12;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:34;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:11;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:35;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:4;182:3">zbs-meta cluster upgrade_mode &lt;duration&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:36;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:12;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:37;182:3">设置集群进入升级模式</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:38;182:3">duration 单位为秒，代表多长时间后自动退出升级模式。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:39;182:3">在升级模式下，集群会在集群中存在不健康节点时禁止副本剔除，以减缓 zbs-chunk 升级后重启引发的数据恢复量。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:40;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:13;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:41;182:3">成功无提示。</p></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-chunk" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:13;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:13;182:3">zbs-meta chunk</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:13;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:42;182:3">chunk 服务在 ZBS 中负责数据管理，每个节点的 chunk 服务都会注册到 meta 服务也就是元数据服务中，然后可以通过 meta 来管理整个集群。通过 chunk 参数，可以实现 register、list、show 等操作。register 和 remove 是将各节点 chunk 服务在 meta 中注册或移除；list 列出 meta 中连通的 chunk 服务列表；show 可以看到某个节点 chunk 的具体信息；update 是更新某个节点 chunk 信息。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-chunk-register" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:14;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:14;182:3">zbs-meta chunk register</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:14;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:43;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:14;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:44;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:5;182:3">zbs-meta chunk register &lt;ip&gt; &lt;chunk_port&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:45;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:15;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:46;182:3">将节点 chunk 注册到 meta 中。ip 是 chunk 存储网络的 IP 地址，chunk_port 代表 chunk 的端口号。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:47;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:16;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:4;182:3">[root@localhost ~]# zbs-meta chunk register 10.10.0.3 10200

[root@localhost ~]# zbs-meta chunk list

ID IP Port IPMI Status Total Space Used Space Provisioned Space Total Cache Space Used Cache Space Registered Date

---- --------- ------ ------ ----------------- ------------- ------------ ------------------- ------------------- ------------------ -------------------

1 10.10.0.3 10200 CONNECTED_HEALTHY 94.00 GB 11.00 GB 0.00 B 19.96 GB 5.39 GB 2016-01-29 22:06:35

2 10.10.0.2 10200 CONNECTED_HEALTHY 94.00 GB 14.25 GB 512.00 MB 19.96 GB 260.75 MB 2016-01-16 16:36:55

3 10.10.0.1 10200 CONNECTED_HEALTHY 94.00 GB 14.00 GB 512.00 MB 19.96 GB 5.89 GB 2016-01-22 17:02:44</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-chunk-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:15;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:15;182:3">zbs-meta chunk list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:15;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:48;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:17;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:49;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:6;182:3">zbs-meta chunk list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:50;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:18;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:51;182:3">查看集群中连通的 chunk 列表。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:52;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:19;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:5;182:3">ID IP Port IPMI Status Total Space Used Space Provisioned Space Total Cache Space Used Cache Space Registered Date

---- --------- ------ ------ ----------------- ------------- ------------ ------------------- ------------------- ------------------ -------------------

1 10.10.0.3 10200 CONNECTED_HEALTHY 94.00 GB 11.00 GB 0.00 B 19.96 GB 5.39 GB 2016-01-29 22:06:35

2 10.10.0.2 10200 CONNECTED_HEALTHY 94.00 GB 14.25 GB 512.00 MB 19.96 GB 260.75 MB 2016-01-16 16:36:55

3 10.10.0.1 10200 CONNECTED_HEALTHY 94.00 GB 14.00 GB 512.00 MB 19.96 GB 5.89 GB 2016-01-22 17:02:44</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-chunk-show" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:16;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:16;182:3">zbs-meta chunk show</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:16;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:53;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:20;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:54;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:7;182:3">zbs-meta chunk show &lt;ip&gt; &lt;port&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:55;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:21;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:56;182:3">查看某个节点 chunk 的详细信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:57;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:22;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:6;182:3">----------------- -------------------

ID 2

IP 10.0.10.21

Port 10200

Storage Pool system

Use State IN_USE

Link Status CONNECTED_HEALTHY

Total Space 3.42 TB

Used Space 247.00 GB

Provisioned Space 395.00 GB

Total Cache Space 574.09 GB

Used Cache Space 574.09 GB

Registered Date 2016-10-25 16:28:53

----------------- -------------------</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-chunk-remove" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:17;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:17;182:3">zbs-meta chunk remove</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:17;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:58;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:23;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:59;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:8;182:3">zbs-meta chunk remove &lt;ip&gt; &lt;port&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:60;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:24;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:61;182:3">将某个 chunk 从 meta 中移除</p><lq class="- topic/lq " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="lq:2;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:62;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:25;182:3">注意：</b>
仅能操作 IDLE 状态的 chunk, 也即只能移除已经从存储池中移除的 chunk。</p></lq><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:63;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:26;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:7;182:3">[root@localhost ~]# zbs-meta chunk remove 10.10.0.3 10200

[root@localhost ~]# zbs-meta chunk list

ID IP Port IPMI Status Total Space Used Space Provisioned Space Total Cache Space Used Cache Space Registered Date

---- --------- ------ ------ ----------------- ------------- ------------ ------------------- ------------------- ------------------ -------------------

1 10.10.0.3 10200 REMOVING 94.00 GB 11.00 GB 0.00 B 19.96 GB 5.39 GB 2016-01-29 22:06:35

2 10.10.0.2 10200 CONNECTED_HEALTHY 94.00 GB 14.25 GB 512.00 MB 19.96 GB 260.75 MB 2016-01-16 16:36:55

3 10.10.0.1 10200 CONNECTED_HEALTHY 94.00 GB 14.00 GB 512.00 MB 19.96 GB 5.89 GB 2016-01-22 17:02:44</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-chunk-list-pid" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:18;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:18;182:3">zbs-meta chunk list_pid</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:18;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:64;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:27;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:65;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:9;182:3">zbs-meta chunk list_pid &lt;ip&gt; &lt;port&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:66;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:28;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:67;182:3">列出 chunk 的所有 pid</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:68;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:29;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:8;182:3">[root@localhost ~]# zbs-meta chunk list_pid 10.10.0.2 10200

[root@localhost ~]# zbs-meta chunk list

pid: 2 3 7 8 9 10 13 14 15 16 19 20 21 23...

rx pid:

tx pid:</codeblock></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-pool" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:19;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:19;182:3">zbs-meta pool</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:19;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:69;182:3">通过 pool 参数，可以对数据存储进行创建、删除、更新、查看等操作。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-pool-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:20;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:20;182:3">zbs-meta pool list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:20;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:70;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:30;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:71;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:10;182:3">zbs-meta pool list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:72;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:31;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:73;182:3">查看集群中全部数据存储信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:74;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:32;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:9;182:3">[root@localhost ~]# zbs-meta pool list

ID Name Storage Pool Creation Time Replica# Thin Export Description Whitelist

------------------------------------ --------------------- -------------- ----------------------------- ---------- ------ -------- ------------------ -----------

f5afe11d-e151-44de-85cb-25983890bb88 default system 2016-10-25 16:28:15.380808688 2 True False */*</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-pool-show" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:21;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:21;182:3">zbs-meta pool show</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:21;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:75;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:33;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:76;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:11;182:3">zbs-meta pool show &lt;pool_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:77;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:34;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:78;182:3">查看默认的数据存储的详细信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:79;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:35;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:10;182:3">------------ ------------------------------------

ID f5afe11d-e151-44de-85cb-25983890bb88

Name default

Storage Pool system

Creation Time 2016-10-25 16:28:15.380808688

Replica# 2

Thin True

Export False

Description

Whitelist */*

------------ ------------------------------------</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-pool-create" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:22;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:22;182:3">zbs-meta pool create</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:22;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:80;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:36;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:81;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:12;182:3">zbs-meta pool create &lt;pool_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:82;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:37;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:83;182:3">创建指定名字的数据存储。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:84;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:38;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:85;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-pool-delete" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:23;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:23;182:3">zbs-meta pool delete</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:23;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:86;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:39;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:87;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:13;182:3">zbs-meta pool delete &lt;pool_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:88;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:40;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:89;182:3">删除指定名字的数据存储。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:90;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:41;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:91;182:3">无。</p></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-volume" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:24;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:24;182:3">zbs-meta volume</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:24;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:92;182:3">volume 对应的是存储卷，也就是对应虚拟机的虚拟磁盘，用户可以通过 volume 来创建虚拟机或者对虚拟机进行添加磁盘的操作。这一切都是基于存储卷进行的，volume 参数可以让用户直接对存储卷进行操作。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-volume-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:25;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:25;182:3">zbs-meta volume list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:25;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:93;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:42;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:94;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:14;182:3">zbs-meta volume list &lt;pool_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:95;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:43;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:96;182:3">查看某个数据存储中的存储卷信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:97;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:44;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:11;182:3">ID Name Parent ID Size Unique size Shared size Creation Time Status Replica Number Thin Provision Read Only Description Alloc Even Clone count

------------------------------------ ------------------ ------------------------------------ ---------- ------------- ------------- ----------------------------- ------------- ---------------- ---------------- ----------- ------------- ------------ -------------

1f9a302e-1364-4ac1-85d4-e8569a837f3f 1f9a302e-1364-4ac1 66afccab-d808-49d1-afb6-3c6e64797103 1024.00 MB 256.00 MB 0.00 B 2018-05-22 10:31:19.550168372 VOLUME_ONLINE 2 True False False 0

2c46420e-9f3e-4506-a590-3f74c9b0b15a 2c46420e-9f3e-4506 66afccab-d808-49d1-afb6-3c6e64797103 1024.00 MB 256.00 MB 0.00 B 2018-05-22 10:27:04.691916133 VOLUME_ONLINE 2 True False False 0

2ecf8773-2e2f-4099-91b4-c76ad27368f9 2ecf8773-2e2f-4099 66afccab-d808-49d1-afb6-3c6e64797103 2.00 GB 1024.00 MB 0.00 B 2018-05-22 14:23:37.772859129 VOLUME_ONLINE 2 True False False 0

4128f64d-95b6-4618-a8a2-45014a7bf248 4128f64d-95b6-4618 66afccab-d808-49d1-afb6-3c6e64797103 1024.00 MB 256.00 MB 0.00 B 2018-05-22 10:28:05.287817772 VOLUME_ONLINE 2 True False False 0

4de140d6-a3aa-4783-b992-13487b2f715a 4de140d6-a3aa-4783 66afccab-d808-49d1-afb6-3c6e64797103 2.00 GB 2.00 GB 0.00 B 2018-05-22 14:24:49.972618712 VOLUME_ONLINE 2 True False False 0

c5ab82fd-caf2-4f52-92bb-2756abcddae6 c5ab82fd-caf2-4f52 66afccab-d808-49d1-afb6-3c6e64797103 1024.00 MB 256.00 MB 0.00 B 2018-05-22 10:27:06.591948325 VOLUME_ONLINE 2 True False False 0</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-volume-create" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:26;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:26;182:3">zbs-meta volume create</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:26;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:98;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:45;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:99;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:15;182:3">zbs-meta volume create &lt;pool_name&gt; &lt;volume_name&gt; &lt;volume_size&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:100;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:46;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:101;182:3">在某个数据存储中创建一个指定名字和指定大小（默认单位：GB）的存储卷。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:102;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:47;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:103;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-volume-delete" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:27;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:27;182:3">zbs-meta volume delete</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:27;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:104;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:48;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:105;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:16;182:3">zbs-meta volume delete &lt;pool_name&gt; &lt;volume_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:106;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:49;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:107;182:3">从数据存储中将存储卷删除。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:108;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:50;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:109;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-volume-show" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:28;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:28;182:3">zbs-meta volume show</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:28;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:110;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:51;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:111;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:17;182:3">zbs-meta volume show &lt;pool_name&gt; &lt;volume_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:112;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:52;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:113;182:3">显示存储卷详细信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:114;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:53;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:12;182:3">---------------- ------------------------------------

ID 4128f64d-95b6-4618-a8a2-45014a7bf248

Name 4128f64d-95b6-4618

Parent ID 66afccab-d808-49d1-afb6-3c6e64797103

Size 1024.00 MB

Unique size 256.00 MB

Shared size 0.00 B

Creation Time 2018-05-22 10:28:05.287817772

Status VOLUME_ONLINE

Replica Number 2

Thin Provision True

Read Only False

Description

Alloc Even False

Clone count 0

iops 0

iops_burst 0

bps 0

bps_burst 0

stripe_num 4

stripe_size 262144

alloced virtual 256.00 MB

alloced_physical 512.00 MB

---------------- ------------------------------------</codeblock></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-pextent" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:29;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:29;182:3">zbs-meta pextent</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:29;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:115;182:3">extent 为数据块在 HDD 盘上的最小单位，技术人员可以通过 pextent 对集群进行查看和调试。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-pextent-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:30;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:30;182:3">zbs-meta pextent list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:30;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:116;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:54;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:117;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:18;182:3">zbs-meta pextent list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:118;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:55;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:119;182:3">列出当前集群中数据块（extent）信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:120;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:56;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:13;182:3">ID Replica Alive Replica Ever Exist Is Garbage Origin PExtent Expected Replica num Epoch

----- --------- --------------- ------------ ------------ ---------------- ---------------------- -------

1 [1] [] False False 0 2 7

10 [1, 2] [1, 2] True False 0 2 31

11 [1, 5] [] False False 0 2 33</codeblock><lq class="- topic/lq " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="lq:3;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:121;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:57;182:3">注意：</b>
此操作随着集群的规模扩展, 可能会非常耗时。</p></lq></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-pextent-show" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:31;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:31;182:3">zbs-meta pextent show</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:31;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:122;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:58;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:123;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:19;182:3">zbs-meta pextent show &lt;pextent_id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:124;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:59;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:125;182:3">查看某个数据块详细信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:126;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:60;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:14;182:3">-------------------- ------

ID 6648

Replica [3, 4]

Alive Replica [3, 4]

Ever Exist True

Is Garbage False

Origin PExtent 0

Expected Replica num 2

Epoch 9436

Prefer Local 3

-------------------- ------</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-pextent-getref" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:32;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:32;182:3">zbs-meta pextent getref</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:32;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:127;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:61;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:128;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:20;182:3">zbs-meta pextent getref &lt;pextent_id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:129;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:62;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:130;182:3">查看数据块的所属。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:131;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:63;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:15;182:3">----------------------- ------------------------------------

Pool Name prometheus

Volume ID c352a6f5-cac3-4e0e-ad24-3294dfee6ac6

Volume Name c352a6f5-cac3-4e0e

Volume Is Snapshot False

Volume Snapshot Pool ID

Snapshot Name

----------------------- ------------------------------------</codeblock></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-snapshot" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:33;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:33;182:3">zbs-meta snapshot</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:33;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:132;182:3">ZBS 存储支持对存储卷的快照操作，可以进行 create、delete、rollback、update 等操作。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-snapshot-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:34;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:34;182:3">zbs-meta snapshot list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:34;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:133;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:64;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:134;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:21;182:3">zbs-meta snapshot list &lt;pool_name&gt; &lt;volume_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:135;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:65;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:136;182:3">查看某个存储卷现有快照。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:137;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:66;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:16;182:3">ID Snap Name Size Unique Size Shared Size Diff Size Volume Id Creation Time Description

------------------------------------ -------------------------------- ---------- ------------- ------------- ----------- ------------------------------------ ----------------------------- -------------

984bff90-e8a2-4a0b-8e22-98c161dd1906 smartx-1-1-1-snapshot-1481173512 1024.00 MB 0.00 B 1024.00 MB 1024.00 MB b4230bf9-5dd7-4d56-99fa-93a707e57ef6 2016-12-08 13:05:13.129128931</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-snapshot-create" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:35;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:35;182:3">zbs-meta snapshot create</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:35;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:138;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:67;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:139;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:22;182:3">zbs-meta snapshot create &lt;pool_name&gt; &lt;volume_name&gt; &lt;snapshot_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:140;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:68;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:141;182:3">创建快照。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:142;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:69;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:143;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-snapshot-delete" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:36;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:36;182:3">zbs-meta snapshot delete</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:36;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:144;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:70;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:145;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:23;182:3">zbs-meta snapshot delete &lt;pool_name&gt; &lt;volume_name&gt; &lt;snapshot_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:146;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:71;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:147;182:3">删除快照。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:148;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:72;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:149;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-snapshot-delete-by-id" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:37;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:37;182:3">zbs-meta snapshot delete_by_id</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:37;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:150;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:73;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:151;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:24;182:3">zbs-meta snapshot delete_by_id &lt;snapshot_id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:152;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:74;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:153;182:3">删除快照。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:154;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:75;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:155;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-snapshot-rollback" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:38;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:38;182:3">zbs-meta snapshot rollback</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:38;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:156;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:76;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:157;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:25;182:3">zbs-meta snapshot rollback &lt;pool_name&gt; &lt;volume_name&gt; &lt;snapshot_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:158;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:77;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:159;182:3">从快照回滚。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:160;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:78;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:161;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-snapshot-update" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:39;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:39;182:3">zbs-meta snapshot update</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:39;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:162;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:79;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:163;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:26;182:3">zbs-meta snapshot update &lt;pool_name&gt; &lt;volume_name&gt; &lt;snapshot_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:164;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:80;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:165;182:3">更新快照。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:166;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:81;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:167;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-snapshot-update-by-id" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:40;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:40;182:3">zbs-meta snapshot update_by_id</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:40;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:168;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:82;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:169;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:27;182:3">zbs-meta snapshot update_by_id &lt;snapshot_id&gt; &lt;new_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:170;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:83;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:171;182:3">更新快照。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:172;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:84;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:173;182:3">无。</p></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-migrate" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:41;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:41;182:3">zbs-meta migrate</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:41;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:174;182:3">可以通过 migrate 对集群中数据块的进行查看、开启和禁用。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-migrate-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:42;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:42;182:3">zbs-meta migrate list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:42;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:175;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:85;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:176;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:28;182:3">zbs-meta migrate list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:177;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:86;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:178;182:3">查看集群中正在迁移的数据块。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:179;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:87;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:17;182:3">No migration command is running.</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-migrate-enable" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:43;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:43;182:3">zbs-meta migrate enable</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:43;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:180;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:88;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:181;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:29;182:3">zbs-meta migrate enable</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:182;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:89;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:183;182:3">开启迁移。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:184;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:90;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:18;182:3">Enabled</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-migrate-disable" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:44;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:44;182:3">zbs-meta migrate disable</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:44;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:185;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:91;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:186;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:30;182:3">zbs-meta migrate disable</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:187;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:92;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:188;182:3">禁用迁移。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:189;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:93;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:19;182:3">Disabled</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-migrate-get-mode-info" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:45;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:45;182:3">zbs-meta migrate get_mode_info</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:45;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:190;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:94;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:191;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:31;182:3">zbs-meta migrate get_mode_info</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:192;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:95;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:193;182:3">获取迁移数据的模式</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:194;182:3">输出:</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:20;182:3">Migrate mode: MIGRATE_STATIC

Migrate enable: True

Static migrate limit: 200.00 MB</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-migrate-set-mode-info" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:46;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:46;182:3">zbs-meta migrate set_mode_info</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:46;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:195;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:96;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:196;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:32;182:3">zbs-meta migrate set_mode_info [--migrate_limit MIGRATE_LIMIT] &lt;mode&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:197;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:97;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:198;182:3">设置迁移数据的模式</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:199;182:3">参数定义如下：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:5;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:5;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:10;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:11;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:5;182:3">
<row class="- topic/row " outputclass="header" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:45;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:100;182:3">名称</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:101;182:3">说明</entry>
</row>
</thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:5;182:3">
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:46;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:102;182:3">mode</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:103;182:3"><ul class="- topic/ul " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="ul:1;182:3">
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:1;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:200;182:3">0：智能调节模式。根据当前系统负载自动调节迁移数据的速度。此模式是默认模式。</p>
</li>
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:2;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:201;182:3">1：静态调节模式。只允许对 Meta 下的所有 Chunk 设置同一限额，不能够对每个 Chunk 单独设置。</p>
</li>
</ul></entry>
</row>
<row class="- topic/row " outputclass="even" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:47;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:104;182:3">--migrate_limit MIGRATE_LIMIT</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:105;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:202;182:3">可选参数，且只有在上述 mode 设置为 1 （即静态调节模式）时才生效。此参数指定迁移数据的最大速率（MB/s），其取值范围为 1 - 500。</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:203;182:3">如果 mode 被设置为 0，但又设置了 --migrate_limit MIGRATE_LIMIT，则设置的 --migrate_limit MIGRATE_LIMIT 不起作用。</p></entry>
</row>
</tbody></tgroup></table><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:204;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:98;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:205;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-migrate-scan-immediate" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:47;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:47;182:3">zbs-meta migrate scan_immediate</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:47;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:206;182:3">立即扫描需要被迁移的数据块（extent）。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:207;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:99;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:208;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:33;182:3">zbs-meta migrate scan_immediate</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:209;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:100;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:210;182:3">无。</p></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-recover" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:48;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:48;182:3">zbs-meta recover</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:48;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:211;182:3">当集群出现某个存储卷的副本数减少，或数据块校验不同时，会触发恢复动作。可以通过手动开启或禁用。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-recover-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:49;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:49;182:3">zbs-meta recover list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:49;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:212;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:101;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:213;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:34;182:3">zbs-meta recover list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:214;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:102;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:215;182:3">查看集群中正在恢复的数据块。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:216;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:103;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:21;182:3">No recovery command is running.</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-recover-enable" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:50;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:50;182:3">zbs-meta recover enable</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:50;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:217;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:104;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:218;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:35;182:3">zbs-meta recover enable</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:219;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:105;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:220;182:3">开启恢复功能。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:221;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:106;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:222;182:3">Enabled</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-recover-disable" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:51;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:51;182:3">zbs-meta recover disable</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:51;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:223;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:107;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:224;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:36;182:3">zbs-meta recover disable</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:225;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:108;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:226;182:3">禁用恢复功能。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:227;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:109;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:22;182:3">Disabled</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-recover-get-mode-info" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:52;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:52;182:3">zbs-meta recover get_mode_info</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:52;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:228;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:110;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:229;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:37;182:3">zbs-meta recover get_mode_info</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:230;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:111;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:231;182:3">获取恢复数据的模式。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:232;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:112;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:23;182:3">Recover mode: RECOVER_AUTO

Recover enable: True

session_id ip current_recover_limit

------------------------------------ ---------- -----------------------

820a31b7-ffc6-4559-bddf-e64ba68ebcd0 10.0.17.71 100.00 MB

d1b16ddd-547f-4791-a3d9-30078d1b749d 10.0.17.70 100.00 MB

ee010c4b-e157-40e5-b7ee-bce5de3e9af4 10.0.17.69 150.00 MB</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-recover-set-mode-info" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:53;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:53;182:3">zbs-meta recover set_mode_info</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:53;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:233;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:113;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:234;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:38;182:3">zbs-meta recover set_mode_info [--recover_limit RECOVER_LIMIT] &lt;mode&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:235;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:114;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:236;182:3">设置恢复数据的模式</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:237;182:3">参数定义如下：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:6;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:6;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:12;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:13;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:6;182:3">
<row class="- topic/row " outputclass="header" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:48;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:106;182:3">名称</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:107;182:3">说明</entry>
</row>
</thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:6;182:3">
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:49;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:108;182:3">mode</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:109;182:3"><ul class="- topic/ul " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="ul:2;182:3">
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:3;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:238;182:3">0：智能调节模式。根据当前系统负载自动调节恢复的速度。此模式是默认模式。</p>
</li>
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:4;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:239;182:3">1：静态调节模式。只允许对 Meta 下的所有 Chunk 设置同一限额，不能够对每个 Chunk 单独设置。</p>
</li>
</ul></entry>
</row>
<row class="- topic/row " outputclass="even" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:50;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:110;182:3">--recover_limit RECOVER_LIMIT</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:111;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:240;182:3">可选参数，且只有在上述 mode 设置为 1 （即静态调节模式）时才生效。此参数指定恢复数据的最大速率（MB/s），其取值范围为 1 - 500。</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:241;182:3">如果 mode 被设置为 0，但又设置了 --recover_limit RECOVER_LIMIT，则设置的 --recover_limit RECOVER_LIMIT 不起作用。</p></entry>
</row>
</tbody></tgroup></table><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:242;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:115;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:243;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-recover-scan-immediate" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:54;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:54;182:3">zbs-meta recover scan_immediate</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:54;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:244;182:3">立即扫描需要被恢复的数据块（extent）。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:245;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:116;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:246;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:39;182:3">zbs-meta recover scan_immediate</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:247;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:117;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:248;182:3">无。</p></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-enable" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:55;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:55;182:3">zbs-meta enable</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:55;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:249;182:3">启用本节点的 meta 服务。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:250;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:118;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:251;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:40;182:3">zbs-meta enable</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:252;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:119;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:253;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-disable" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:56;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:56;182:3">zbs-meta disable</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:56;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:254;182:3">停用本节点的 meta 服务。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:255;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:120;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:256;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:41;182:3">zbs-meta disable</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:257;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:121;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:258;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-show" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:57;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:57;182:3">zbs-meta show</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:57;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:259;182:3">显示本节点的 meta 的服务状态。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:260;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:122;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:261;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:42;182:3">zbs-meta show</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:262;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:123;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:24;182:3">Meta service is enabled and running</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-license" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:58;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:58;182:3">zbs-meta license</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:58;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:263;182:3">显示当前许可证和激活新的许可证。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-license-show" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:59;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:59;182:3">zbs-meta license show</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:59;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:264;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:124;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:265;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:43;182:3">zbs-meta license show</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:266;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:125;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:267;182:3">显示当前的许可证。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:268;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:126;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:25;182:3">-------------- ------------------------------------

serial 00000000-0000-0000-0000-000000000000

product name ENTERPRISE PLUS

sign date 2016-12-07 14:40:01

expire date 2017-04-06 14:40:01

max space size 3.00 PB

max node num 255

-------------- ------------------------------------</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-license-set" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:60;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:60;182:3">zbs-meta license set</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:60;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:269;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:127;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:270;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:44;182:3">zbs-meta license set &lt;license_number&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:271;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:128;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:272;182:3">激活新的许可证。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:273;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:129;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:274;182:3">无。</p></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-storage-pool" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:61;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:61;182:3">zbs-meta storage_pool</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:61;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:275;182:3">存储池需要管理和维护。你可以指定某一个数据存储、NFS export 或 iSCSI 目标到某一个特定的存储池, 然后其上的数据卷都会存放在指定存储池的 chunk 上。系统默认的存储池是“system”。 你可以把存储池的 chunk 移动到另一个存储池。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-storage-pool-create" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:62;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:62;182:3">zbs-meta storage_pool create</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:62;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:276;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:130;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:277;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:45;182:3">zbs-meta storage_pool create &lt;storage_pool name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:278;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:131;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:279;182:3">创建指定名称的存储池。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:280;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:132;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:281;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-storage-pool-show" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:63;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:63;182:3">zbs-meta storage_pool show</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:63;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:282;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:133;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:283;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:46;182:3">zbs-meta storage_pool show &lt;storage_pool_id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:284;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:134;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:285;182:3">显示指定 ID 的存储池属性。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:286;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:135;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:26;182:3">------ ------

id system

name system

chunks 3,2,1

------ ------</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-storage-pool-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:64;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:64;182:3">zbs-meta storage_pool list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:64;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:287;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:136;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:288;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:47;182:3">zbs-meta storage_pool list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:289;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:137;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:290;182:3">列出集群当前所有的存储池。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:291;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:138;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:27;182:3">id name chunks

------------------------------------ ----------------- --------

098d85cb-bc6e-494d-a425-d0f9dc131fde test

32f071cd-86a8-4580-9a91-79f2ea61ede3 tt

57f4319c-475a-49d0-80a4-5896797dd247 storage_pool_test

6d1b039a-2c92-47fd-9792-110787e1c08a afa

6d1cf2c5-9c60-4ab2-9d2c-df2396ea8014 test

a71afb26-4331-4b28-b9b8-67a6a2226b09 gcc

e00bbe53-83c0-4975-9f74-213ca4893d77 aa

system system 3,2,1</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-storage-pool-update" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:65;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:65;182:3">zbs-meta storage_pool update</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:65;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:292;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:139;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:293;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:48;182:3">zbs-meta storage_pool update &lt;storage_pool_id&gt; &lt;new name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:294;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:140;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:295;182:3">更新指定 ID 的存储池到新名称。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:296;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:141;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:297;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-storage-pool-delete" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:66;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:66;182:3">zbs-meta storage_pool delete</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:66;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:298;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:142;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:299;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:49;182:3">zbs-meta storage_pool delete &lt;storage_pool id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:300;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:143;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:301;182:3">删除指定 ID 的存储池。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:302;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:144;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:303;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-storage-pool-remove-chunk" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:67;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:67;182:3">zbs-meta storage_pool remove_chunk</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:67;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:304;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:145;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:305;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:50;182:3">zbs-meta storage_pool remove_chunk &lt;storage_pool_id&gt; &lt;chunk_id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:306;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:146;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:307;182:3">将指定的 chunk 从存储池中移除。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:308;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:147;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:309;182:3">无。</p></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-topo" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:68;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:68;182:3">zbs-meta topo</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:68;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:310;182:3">通过对区域、机架组和机架等进行控制，可以合理地将副本分放在不同的区域，以最大限度地提高数据安全性。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-topo-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:69;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:69;182:3">zbs-meta topo list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:69;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:311;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:148;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:312;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:51;182:3">zbs-meta topo list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:313;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:149;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:314;182:3">查看拓扑列表。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:315;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:150;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:28;182:3">id type name parent_id position.row position.column capacity.row capacity.column dimension.row dimension.column create_time

------------------------------------ ------- -------- ------------------------------------ -------------- ----------------- -------------- ----------------- --------------- ------------------ -------------------

1f95604f-c5f4-498f-9f53-b62adc95404e BRICK 25676811 defrack 253 1 1 1 1 1 2018-05-22 10:28:11

57d8c464-c92c-4d47-b480-e827157713fe NODE chunk1 1f95604f-c5f4-498f-9f53-b62adc95404e 1 1 1 1 1 1 2018-05-22 10:26:10

8a251039-9b48-4ee5-9cec-8ed6a1e16d8e NODE chunk4 d2ac8c29-0416-4e34-b75a-ae9087add164 1 1 1 1 1 1 2018-05-22 10:30:39

b18a8c3a-4966-4149-b326-4159925bfb3d BRICK 25676892 defrack 254 1 2 2 2 1 2018-05-22 10:27:27

d2ac8c29-0416-4e34-b75a-ae9087add164 BRICK 25676814 defrack 251 1 2 2 2 1 2018-05-22 10:31:20

d557747f-7c57-48bd-bd6a-5aeb8e1a3535 NODE chunk2 b18a8c3a-4966-4149-b326-4159925bfb3d 2 1 1 1 1 1 2018-05-22 10:26:11

default ZONE default topo 1 1 1 1 1 1 1970-01-01 08:00:00

defrack RACK default 1 1 256 1 1 1 1970-01-01 08:00:00

fe532797-4dbc-4d6c-bfb3-39ce988360d7 NODE chunk3 topo 1 1 1 1 1 1 2018-05-22 10:26:21

topo CLUSTER topo 1 1 1 1 1 1 1970-01-01 08:00:00
</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-topo-create" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:70;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:70;182:3">zbs-meta topo create</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:70;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:316;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:151;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:317;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:52;182:3">zbs-meta topo create &lt;type&gt; &lt;name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:318;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:152;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:319;182:3">创建机架和机箱</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:320;182:3">参数定义如下：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:7;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:7;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:14;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:15;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:7;182:3">
<row class="- topic/row " outputclass="header" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:51;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:112;182:3">名称</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:113;182:3">说明</entry>
</row>
</thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:7;182:3">
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:52;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:114;182:3">type</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:115;182:3"><ul class="- topic/ul " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="ul:3;182:3">
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:5;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:321;182:3">type 设为 rack 时，创建机架。例如：</p>
</li>
</ul>
</entry></row></tbody></tgroup></table><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:322;182:3">zbs-meta topo create rack new-rack</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:323;182:3">创建一个名为 new-rack 的新机架。</p><ul class="- topic/ul " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="ul:4;182:3">
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:6;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:324;182:3">type 设为 brick 时，创建机箱。但其后必须要跟 --parent_id 这个参数，用来指定该机箱位于哪个机架。例如：</p>
</li>
</ul><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:325;182:3">zbs-meta topo create brick new-brick --parent_id d7c626fd</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:326;182:3">创建一个名为 new-rack 的新机架，该机箱被置于 ID 号为 d7c626fd 的机架中。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:327;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:153;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:328;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-topo-show" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:71;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:71;182:3">zbs-meta topo show</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:71;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:329;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:154;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:330;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:53;182:3">zbs-meta topo show &lt;id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:331;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:155;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:332;182:3">查看机架、机箱或节点的详细信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:333;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:156;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:29;182:3">--------- ------------------------------------

id 1f95604f-c5f4-498f-9f53-b62adc95404e

type BRICK

name 25676811

parent_id defrack

position.row 253

position.column 1

capacity.row 1

capacity.column 1

dimension.row 1

dimension.column 1

create_time 2018-05-22 10:28:11

--------- ------------------------------------</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-topo-delete" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:72;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:72;182:3">zbs-meta topo delete</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:72;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:334;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:157;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:335;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:54;182:3">zbs-meta topo delete &lt;id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:336;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:158;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:337;182:3">删除机架或机箱。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:338;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:159;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:339;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-topo-update" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:73;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:73;182:3">zbs-meta topo update</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:73;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:340;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:160;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:341;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:55;182:3">zbs-meta topo update &lt;id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:342;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:161;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:343;182:3">更新机架、机箱或节点的信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:344;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:162;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:345;182:3">无。</p></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-session" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:74;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:74;182:3">zbs-meta session</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:74;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:346;182:3">显示接入服务的会话（ access session）状态的列表。每个可用的接入点会和 meta 之间维持一个会话。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:347;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:163;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:348;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:56;182:3">zbs-meta session list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:349;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:164;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:30;182:3">UUID Ip Port Cid Secondary_data_ip Zone

------------------------------------ ---------- ------ ----- ------------------- -------

26335e8a-ca3e-45f8-9343-637081b6d6cb 10.0.10.35 10201 1 192.168.67.35 default

4e28b04c-2776-4541-9be3-b7dddaf2677d 10.0.10.36 10201 2 192.168.67.36

6a55dc5b-c8b9-423e-add8-2f9b79314aae 10.0.10.38 10201 3 192.168.67.38

7f19566a-3197-4d2c-bfb0-c03352771086 10.0.10.37 10201 4 192.168.67.37 default
</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-reroute" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:75;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:75;182:3">zbs-meta reroute</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:75;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:350;182:3">reroute 参数可以更新和查看重路由功能的设置状态。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-reroute-show" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:76;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:76;182:3">zbs-meta reroute show</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:76;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:351;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:165;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:352;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:57;182:3">zbs-meta reroute show</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:353;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:166;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:354;182:3">展示当前重路由功能的设置状态。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:355;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:167;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:31;182:3">enable_reroute: true

enable_secondary_data_channel: true</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-meta-reroute-update" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:77;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:77;182:3">zbs-meta reroute update</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:77;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:356;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:168;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:357;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:58;182:3">zbs-meta reroute update --enable_reroute={true|false} --enable_secondary_data_channel={true|false}</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:358;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:169;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:359;182:3">更新重路由功能的设置。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:360;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:170;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:361;182:3">无。</p></body></topic></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:78;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:78;182:3">zbs-chunk</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:78;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:362;182:3">chunk 运行在每一台服务器节点上，主要提供三类服务：</p><ul class="- topic/ul " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="ul:5;182:3"><li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:7;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:363;182:3">负责和 meta 的通信，向 meta 提供 chunk 的心跳信息，本节点的使用容量，数据块的副本数等信息。</p></li><li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:8;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:364;182:3">负责处理客户端的读写请求。</p></li><li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:9;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:365;182:3">LSM（Local Storage Manager）：负责管理本节点上的除了系统盘以外的所有本地存储盘:包括 PCI-SSD、SSD、SATA 或 SAS 盘。按照存储盘的用途可以分为缓存盘和数据盘。</p></li></ul><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:366;182:3">zbs-chunk 命令主要分为以下几大类：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:8;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:8;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:16;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:17;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:8;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:53;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:116;182:3">类别</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:117;182:3">说明</entry></row></thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:8;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:54;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:118;182:3">counter</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:119;182:3">管理计数器</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:55;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:120;182:3">start</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:121;182:3">启动 chunk 服务器</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:56;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:122;182:3">stop</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:123;182:3">停止 chunk 服务器</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:57;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:124;182:3">partition</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:125;182:3">管理分区</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:58;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:126;182:3">journal</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:127;182:3">管理日志</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:59;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:128;182:3">cache</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:129;182:3">管理缓存</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:60;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:130;182:3">volume</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:131;182:3">管理存储卷</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:61;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:132;182:3">client</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:133;182:3">管理客户端</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:62;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:134;182:3">snapshot</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:135;182:3">快照读写</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:63;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:136;182:3">recover</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:137;182:3">列出恢复相关信息</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:64;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:138;182:3">migrate</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:139;182:3">列出迁移相关信息</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:65;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:140;182:3">extent</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:141;182:3">列出数据块相关信息</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:66;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:142;182:3">address</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:143;182:3">chunk 地址信息</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:67;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:144;182:3">verify</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:145;182:3">chunk 校验数据的模式</entry></row></tbody></tgroup></table></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-counter" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:79;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:79;182:3">zbs-chunk counter</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:79;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:367;182:3">chunk 的读写操作对 chunk 的影响会暂时记录在 chunk 的计数器中。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:368;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:171;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:369;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:59;182:3">zbs-chunk counter list '\*'</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:370;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:172;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:371;182:3">列出所有计数器。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:372;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:173;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:32;182:3">=================== ========== ============= ============== ==============

============ =========== ========== =========== ========== =========

NAME DURATION TOTAL VALUE TOTAL TIME TOTAL CNT

LAST VALUE LAST TIME LAST CNT CUR VALUE CUR TIME CUR CNT

=================== ========== ============= ============== ==============

============ =========== ========== =========== ========== =========

chunk read counter 1 1.66235e+11 1.45566e+14 4.01898e+07

0 0 0 0 0 0

chunk write counter 1 3.30623e+11 5.42942e+14 4.08241e+07

0 0 0 0 0 0

migrate 1 0 0 0

0 0 0 0 0 0

recover 1 2.68435e+08 1024 1024

0 0 0 0 0 0

=================== ========== ============= ============== ==============

============ =========== ========== =========== ========== =========</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-start" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:80;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:80;182:3">zbs-chunk start</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:80;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:373;182:3">启动本节点的 zbs-chunk。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:374;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:174;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:375;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:60;182:3">zbs-chunk start</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:376;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:175;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:377;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-stop" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:81;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:81;182:3">zbs-chunk stop</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:81;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:378;182:3">停止本节点的 zbs-chunk。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:379;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:176;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:380;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:61;182:3">zbs-chunk stop</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:381;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:177;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:382;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-partition" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:82;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:82;182:3">zbs-chunk partition</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:82;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:383;182:3">chunk 会对节点上的磁盘（除系统盘以外）进行管理：分区管理本地 HDD，先对磁盘进行格式化操作，之后将磁盘挂载到 chunk 上，通过 chunk 对磁盘进行控制。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-partition-format" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:83;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:83;182:3">zbs-chunk partition format</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:83;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:384;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:178;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:385;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:62;182:3">zbs-chunk partition format &lt;path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:386;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:179;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:387;182:3">格式化指定路径下的分区。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:388;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:180;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:33;182:3">Partition successfully formatted</codeblock><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:389;182:3">使用以下命令时，需格外谨慎：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:390;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:63;182:3">zbs-chunk partition format --force &lt;path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:391;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:181;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:392;182:3">格式化指定路径下的已有数据的分区(上面数据会丢失)</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:393;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:64;182:3">zbs-chunk partition format --ignore_data_checksum &lt;path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:394;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:182;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:395;182:3">格式化用作全闪 SSD 的分区</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-partition-mount" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:84;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:84;182:3">zbs-chunk partition mount</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:84;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:396;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:183;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:397;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:65;182:3">zbs-chunk partition mount &lt;path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:398;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:184;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:399;182:3">将指定路径下空的分区挂载到 chunk 上。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:400;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:185;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:34;182:3">Partition successfully mounted</codeblock><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:401;182:3">使用以下命令时，需格外谨慎：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:402;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:66;182:3">zbs-chunk partition mount --force &lt;path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:403;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:186;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:404;182:3">挂载已有数据的分区(危险)</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-partition-unmount" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:85;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:85;182:3">zbs-chunk partition unmount</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:85;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:405;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:187;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:406;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:67;182:3">zbs-chunk partition unmount &lt;path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:407;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:188;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:408;182:3">将指定路径下分区从 chunk 上卸载。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:409;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:189;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:35;182:3">Partition successfully unmounted</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-partition-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:86;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:86;182:3">zbs-chunk partition list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:86;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:410;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:190;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:411;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:68;182:3">zbs-chunk partition list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:412;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:191;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:413;182:3">查看当前节点分区信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:414;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:192;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:36;182:3">================= ==================================== ==================================== ============ =============== ============= ========= ========== =============================== =========== =====================

STATUS PART UUID UUID TOTAL SIZE NUM IO ERRORS NUM SLOW IO PATH ERRFLAGS DEVICE ID USED SIZE NUM CHECKSUM ERRORS

================= ==================================== ==================================== ============ =============== ============= ========= ========== =============================== =========== =====================

PARTITION_MOUNTED c4e389b6-604c-4e0e-9e69-5b3091354320 f21357f4-2f2a-4806-b8b6-03aa9dd5cad9 828.01 GB 0 0 /dev/sde1 0 ata-ST91000640NS_9XG4FV77-part1 0.00 B 0

PARTITION_MOUNTED c0896d25-831b-4632-a5ae-43b5d2d961b9 4028d5eb-0907-40d9-b53b-2fa2373607a4 828.01 GB 0 0 /dev/sdd1 0 ata-ST91000640NS_9XG1JRX7-part1 0.00 B 0

================= ==================================== ==================================== ============ =============== ============= ========= ========== =============================== =========== =====================</codeblock></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-journal" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:87;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:87;182:3">zbs-chunk journal</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:87;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:415;182:3">每个节点的 SSD 会专门留出部分分区做日志。ZBS 会在日志中记录所做过的操作，以保证数据安全性。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-journal-format" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:88;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:88;182:3">zbs-chunk journal format</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:88;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:416;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:193;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:417;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:69;182:3">zbs-chunk journal format &lt;path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:418;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:194;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:419;182:3">格式化指定路径下的分区用作日志。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:420;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:195;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:37;182:3">Journal successfully formatted</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-journal-mount" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:89;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:89;182:3">zbs-chunk journal mount</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:89;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:421;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:196;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:422;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:70;182:3">zbs-chunk journal mount &lt;path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:423;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:197;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:424;182:3">将日志挂载到指定路径下的 chunk 上。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:425;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:198;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:38;182:3">Journal successfully mounted</codeblock><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:426;182:3">使用以下命令时，需格外谨慎：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:427;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:71;182:3">zbs-chunk journal format --force &lt;path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:428;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:199;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:429;182:3">格式化指定路径下的已有数据的日志(上面数据会丢失)</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-journal-unmount" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:90;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:90;182:3">zbs-chunk journal unmount</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:90;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:430;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:200;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:431;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:72;182:3">zbs-chunk journal unmount &lt;path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:432;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:201;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:433;182:3">将指定路径下的日志从 chunk 卸载。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:434;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:202;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:39;182:3">Journal successfully unmounted</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-journal-flush" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:91;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:91;182:3">zbs-chunk journal flush</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:91;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:435;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:203;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:436;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:73;182:3">zbs-chunk journal flush</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:437;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:204;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:438;182:3">刷新（flush）当前 chunk 的所有日志。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:439;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:205;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:40;182:3">Journal successfully flushed</codeblock><lq class="- topic/lq " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="lq:4;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:440;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:206;182:3">注意：</b>
此操作是异步，即没有完成前会立即返回。</p></lq></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-journal-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:92;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:92;182:3">zbs-chunk journal list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:92;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:441;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:207;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:442;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:74;182:3">zbs-chunk journal list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:443;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:208;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:41;182:3">============ =============== ================== ============= ======== =========

STATUS NUM IO ERRORS RESERVED ENTRIES MAX ENTRIES SEQ NO PATH

============ =============== ================== ============= ======== =========

JOURNAL_BUSY 0 0 819184 31764 /dev/sdb3

JOURNAL_IDLE 0 0 819184 31786 /dev/sdb3

JOURNAL_IDLE 0 0 819184 31788 /dev/sdb3

JOURNAL_IDLE 0 0 819184 31784 /dev/sdb3

JOURNAL_BUSY 0 8 819184 31766 /dev/sdb3

============ =============== ================== ============= ======== =========</codeblock><lq class="- topic/lq " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="lq:5;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:444;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:209;182:3">注意：</b>
在 journal list 命令的输出中，有可能多行对应一次 journal mount 命令成功挂载的日志（跟挂载日志的空间有关）。</p></lq></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-cache" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:93;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:93;182:3">zbs-chunk cache</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:93;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:445;182:3">在 SSD 中，除了需要日志来记录所进行过的操作，还会用部分分区做缓存，来对数据读写进行加速。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-cache-mount" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:94;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:94;182:3">zbs-chunk cache mount</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:94;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:446;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:210;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:447;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:75;182:3">zbs-chunk cache mount &lt;path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:448;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:211;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:449;182:3">将缓存分区挂载到 chunk 上。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:450;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:212;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:42;182:3">Successfully mounted</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-cache-unmounted" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:95;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:95;182:3">zbs-chunk cache unmounted</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:95;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:451;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:213;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:452;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:76;182:3">zbs-chunk cache unmount &lt;path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:453;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:214;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:454;182:3">将缓存分区从 chunk 上卸载。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:455;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:215;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:43;182:3">Partition is STAGING, umount will be done in background</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-cache-invalidate" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:96;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:96;182:3">zbs-chunk cache invalidate</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:96;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:456;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:216;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:457;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:77;182:3">zbs-chunk cache invalidate &lt;path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:458;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:217;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:459;182:3">将某个缓存设置为无效。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:460;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:218;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:44;182:3">Cache successfully invalidated</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-cache-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:97;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:97;182:3">zbs-chunk cache list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:97;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:461;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:219;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:462;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:78;182:3">zbs-chunk cache list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:463;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:220;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:464;182:3">查看节点中缓存列表。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:465;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:221;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:45;182:3">{ 'hit_rate': 0.0,

'promotion_bps': 0L,

'total_bytes': 617636429824L,

'used_bytes': 0L,

'writeback_bps': 0L}

==================================== ============ ========= ========== =========== ================================================

UUID TOTAL SIZE PATH ERRFLAGS USED SIZE DEVICE ID

==================================== ============ ========= ========== =========== ================================================

c548f289-db9c-4d53-91ba-d14ab5d1836f 287.61 GB /dev/sdb4 0 0.00 B ata-INTEL_SSDSC2BA400G4_BTHV519309ZA400NGN-part4

91a752c7-248c-4978-8b0d-977cdf96f871 287.61 GB /dev/sdc4 0 0.00 B ata-INTEL_SSDSC2BA400G4_BTHV5194065D400NGN-part4

==================================== ============ ========= ========== =========== ================================================</codeblock></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-volume" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:98;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:98;182:3">zbs-chunk volume</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:98;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:466;182:3">通过 meta 命令可以创建、管理存储卷；而通过 chunk 命令可以进行向存储卷的读写操作。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-volume-read" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:99;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:99;182:3">zbs-chunk volume read</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:99;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:467;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:222;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:468;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:79;182:3">zbs-chunk volume read &lt;pool_name&gt; &lt;volume_name&gt; -o &lt;file_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:469;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:223;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:470;182:3">从指定的数据存储中读取指定名字的存储卷，并把读取结果存入到指定名字的文件中。若不指定文件名，则输出到屏幕（依然说若不指定文件名，命令会失败；然而根据 --help 指定，则输出到stdout）</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:471;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:224;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:46;182:3">smartx/test1 100% |#############################################################################################| 60.69 M/s Time: 00:00:17</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-volume-write" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:100;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:100;182:3">zbs-chunk volume write</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:100;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:472;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:225;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:473;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:80;182:3">zbs-chunk volume write &lt;pool_name&gt; &lt;volume_name&gt; -i &lt;file_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:474;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:226;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:475;182:3">把指定名字的文件中的数据写入到指定数据存储的存储卷中。若没有指定文件名，则从键盘接收输入（依然说若不指定文件名，命令会失败；然而根据 --help 指定，则从stdin接收输入）</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:476;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:227;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:47;182:3">smartx/test1 100% |#############################################################################################| 24.81 M/s Time: 00:00:43</codeblock></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-recover" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:101;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:101;182:3">zbs-chunk recover</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:101;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:477;182:3">通过此命令可以查看到当前集群恢复的速度。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:478;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:228;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:479;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:81;182:3">zbs-chunk recover list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:480;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:229;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:481;182:3">查看恢复速度。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:482;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:230;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:48;182:3">Total recovery speed: 0.00 B/s</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-migrate" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:102;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:102;182:3">zbs-chunk migrate</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:102;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:483;182:3">通过此命令可以查看到当前集群的迁移速度。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:484;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:231;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:485;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:82;182:3">zbs-chunk migrate list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:486;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:232;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:487;182:3">查看迁移速度。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:488;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:233;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:49;182:3">Total migration speed: 0.00 B/s</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-extent" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:103;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:103;182:3">zbs-chunk extent</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:103;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:489;182:3">ZBS 也提供了检索本地 chunk 的数据块的能力。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:490;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:234;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:491;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:83;182:3">zbs-chunk extent list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:492;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:235;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:493;182:3">列出当前 chunk 的所有数据块。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:494;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:236;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:50;182:3">======== =============== ============ ======= =============== =========== ============== ========= =============================================================================================================================================================================================================================================================================================================================================================== ================

STATUS ORIGIN EPOCH ORIGIN PID PID EPOCH EXTENT NO NUM CHILDREN PART ID BITMAP GEN

======== =============== ============ ======= =============== =========== ============== ========= =============================================================================================================================================================================================================================================================================================================================================================== ================

1 0 0 2387131 3.32966e+06 2187 0 3 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 0xffffffff 66612

...</codeblock><lq class="- topic/lq " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="lq:6;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:495;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:237;182:3">注意：</b>
此操作可能非常耗时。</p></lq></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-address" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:104;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:104;182:3">zbs-chunk address</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:104;182:3"/><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-address-show" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:105;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:105;182:3">zbs-chunk address show</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:105;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:496;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:238;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:497;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:84;182:3">zbs-chunk address show</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:498;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:239;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:499;182:3">查看本地 chunk 的地址配置信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:500;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:240;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:51;182:3">rpc_ip: "10.0.0.20"

rpc_port: 10200

data_ip: "10.0.0.20"

data_port: 10201

data_unix_path: "/var/lib/zbs/chunk_10.0.0.20_10201.sock"

meta_ip: "10.0.0.21"

meta_port: 10100

chunk_id: 1

secondary_data_ip: "192.168.57.20"</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-address-update-secondary-data-ip" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:106;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:106;182:3">zbs-chunk address update_secondary_data_ip</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:106;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:501;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:241;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:502;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:85;182:3">zbs-chunk address update_secondary_data_ip &lt;ip&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:503;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:242;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:504;182:3">更新本地 chunk 的次级数据网络 IP</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:505;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:243;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:506;182:3">无。</p></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-chunk-verify" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:107;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:107;182:3">zbs-chunk verify</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:107;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:507;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:244;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:508;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:86;182:3">zbs-chunk verify {none|log|crash}</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:509;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:245;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:510;182:3">设置 chunk 校验数据的模式</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:511;182:3">其中 none 表示不检验数据；log 表示检验数据，并将发现的问题以日志的方式记录；crash 表示检验数据，并且当发现问题是直接退出。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:512;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:246;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:513;182:3">无。</p></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-nfs" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:108;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:108;182:3">zbs-nfs</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:108;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:514;182:3">ZBS 除了提供块存储以外，还支持 NFS 协议，用户可以通过 zbs-nfs 命令来对存储进行创建 export、文件快照和克隆文件等操作。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:515;182:3">zbs-nfs 命令主要分为以下几大类：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:9;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:9;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:18;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:19;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:9;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:68;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:146;182:3">类别</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:147;182:3">说明</entry></row></thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:9;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:69;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:148;182:3">export</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:149;182:3">管理 export</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:70;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:150;182:3">inode</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:151;182:3">管理索引节点（inode）</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:71;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:152;182:3">file</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:153;182:3">文件管理</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:72;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:154;182:3">dir</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:155;182:3">管理目录</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:73;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:156;182:3">mount</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:157;182:3">管理挂载</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:74;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:158;182:3">snapshot</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:159;182:3">管理快照</entry></row></tbody></tgroup></table></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-nfs-export" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:109;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:109;182:3">zbs-nfs export</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:109;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:516;182:3">可以使用 zbs-nfs export 命令来对 NFS 接口做创建、删除和管理等操作。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-nfs-export-create" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:110;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:110;182:3">zbs-nfs export create</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:110;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:517;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:247;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:518;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:87;182:3">zbs-nfs export create &lt;export_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:519;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:248;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:520;182:3">创建 export</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:521;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:249;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:52;182:3">------------ ------------------------------------

ID 42274db8-bdc2-4141-8c09-905265928444

Name zp-export

Storage Pool system

Created Time 2018-05-23 14:30:50.871069725

Replica# 2

Thin True

Description

Whitelist */*

StripeNum 4

StripeSize 262144

------------ ------------------------------------</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-nfs-export-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:111;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:111;182:3">zbs-nfs export list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:111;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:522;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:250;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:523;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:88;182:3">zbs-nfs export list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:524;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:251;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:525;182:3">查看 export</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:526;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:252;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:53;182:3">ID Name Storage Pool Creation Time Replica# Thin Description Whitelist StripeNum StripeSize

------------------------------------ ------------------- -------------- ----------------------------- ---------- ------ ------------------ ----------- ----------- ------------

195df06b-2211-4669-a961-82aa0eec1c83 nfs-volume-template system 2016-10-25 16:28:49.530417497 2 True Auto create export */* 1 262144

85cfc766-5721-4b4b-b180-7e43cf4b9992 zbs-volumes system 2016-10-25 16:28:48.445662637 2 True Auto create export */* 1 262144

f07b2b19-f133-4d1c-b8c4-1ee4507eeb8d zbs-images system 2016-10-25 16:28:47.776367622 2 True Auto create export */* 1 262144</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-nfs-export-update" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:112;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:112;182:3">zbs-nfs export update</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:112;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:527;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:253;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:528;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:89;182:3">zbs-nfs export update &lt;export_name&gt; [opional arguments]</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:529;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:254;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:530;182:3">更新指定名字的 export 的相关信息</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:531;182:3">optional arguments 可包含的常用参数如下：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:10;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:10;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:20;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:21;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:10;182:3">
<row class="- topic/row " outputclass="header" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:75;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:160;182:3">名称</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:161;182:3">说明</entry>
</row>
</thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:10;182:3">
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:76;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:162;182:3">--new_name &lt;new_name&gt;</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:163;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:532;182:3">把原名为 export_name 的 export 的重新命名为 new_name。例如：</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:533;182:3">zbs-nfs export update Colour --new_name Couleur</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:534;182:3">把名字为 Colour 的 export 重新命名为 Couleur。</p></entry>
</row>
<row class="- topic/row " outputclass="even" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:77;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:164;182:3">--thin_provision {true|false}</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:165;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:535;182:3">设置 export 是否为精简配置。例如：</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:536;182:3">zbs-nfs export update Export-centre --thin_provision false</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:537;182:3">把名为 Export-centre 的 export 设置为非精简配置。</p></entry>
</row>
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:78;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:166;182:3">--replica_num &lt;replica_factor&gt;</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:167;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:538;182:3">重置 export 的副本数，replica_factor 的取值范围只能是 1、2 或 3，超出此范围会报错。例如：</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:539;182:3">zbs-nfs export update Organised-exporter --replica_num 3</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:540;182:3">把名为 Organised-exporter 的 export 的副本数设置为 3。</p></entry>
</row>
<row class="- topic/row " outputclass="even" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:79;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:168;182:3">--des &lt;description&gt;</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:169;182:3">更新 export 的描述。</entry>
</row>
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:80;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:170;182:3">--whitelist &lt;white_list&gt;</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:171;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:541;182:3">更新 export 的白名单，白名单中的 IP 可以此 export。white_list 的取值可以为：</p>
<ul class="- topic/ul " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="ul:6;182:3">
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:10;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:542;182:3">普通 IP：例如 192.168.67.25</p>
</li>
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:11;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:543;182:3">普通 IP/子网掩码：例如 192.168.10.0/255.255.255.0</p>
</li>
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:12;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:544;182:3">CIDR 块：例如 192.168.10.0/24</p>
</li>
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:13;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:545;182:3">*/*：表示任何 IP 都可以访问此 export</p>
</li>
</ul>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:546;182:3">例如：</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:547;182:3">zbs-nfs export update zpp-exporter --whitelist '*/*'</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:548;182:3">zbs-nfs export update zpp-exporter --whitelist 192.168.10.0/255.255.255.0</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:549;182:3">zbs-nfs export update zpp-exporter --whitelist 192.168.10.0/24</p></entry>
</row>
</tbody></tgroup></table></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-nfs-export-delete" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:113;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:113;182:3">zbs-nfs export delete</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:113;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:550;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:255;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:551;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:90;182:3">zbs-nfs export delete &lt;export_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:552;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:256;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:553;182:3">删除 export</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:554;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:257;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:555;182:3">无。</p></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-nfs-snapshot" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:114;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:114;182:3">zbs-nfs snapshot</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:114;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:556;182:3">当用户通过 NFS 形式来使用存储时，ZBS 提供对文件进行快照的功能，使用户可以对文件进行创建快照、从快照中回滚等操作。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-nfs-snapshot-create" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:115;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:115;182:3">zbs-nfs snapshot create</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:115;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:557;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:258;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:558;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:91;182:3">zbs-nfs snapshot create &lt;export_name&gt; &lt;file_path&gt; &lt;snapshot_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:559;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:259;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:560;182:3">为指定目录下的文件创建一个指定名字的快照。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:561;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:260;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:54;182:3">------------ -----------------------------

Snap Name test1_snap

Size 1024.00 MB

Diff Size 256.00 MB

Volume Id 4

Creation Time 2016-01-30 01:43:49.439047235

Description

------------ -----------------------------</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-nfs-snapshot-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:116;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:116;182:3">zbs-nfs snapshot list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:116;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:562;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:261;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:563;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:92;182:3">zbs-nfs snapshot list &lt;export_name&gt; &lt;file_path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:564;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:262;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:565;182:3">查看指定路径下某个文件的快照。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:566;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:263;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:55;182:3">ID Snap Name Size Unique Size Shared Size Diff Size Volume Id Creation Time Description

------------------------------------ ---------------------------------------------------------------- ------ ------------- ------------- ----------- ------------------------------------ ----------------------------- -------------

015638eb-e0f7-49b6-a223-c256e4cd9cf6 ddd-214627-2016-11-25-10-40 0.00 B 0.00 B 0.00 B 0.00 B 9bbe6391-4d4e-487c-a56d-82b8aa9dea1b 2016-11-25 18:40:36.730107938 test

0159b0c1-1d6e-4606-ac57-031f28324fc5 ddd-e7e9e134-dd70-473b-bef3-4ba95aa27af8-214627-2016-11-21-18-57 0.00 B 0.00 B 0.00 B 0.00 B 321e3929-c2bf-47a3-8307-76439eb31f0c 2016-11-22 02:57:22.932895298 test</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-nfs-snapshot-update" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:117;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:117;182:3">zbs-nfs snapshot update</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:117;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:567;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:264;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:568;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:93;182:3">zbs-nfs snapshot update &lt;export_name&gt; &lt;file_path&gt; &lt;snapshot_name&gt; &lt;new_snapshot_name&gt; [optional arguments]</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:569;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:265;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:570;182:3">更新快照信息</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:571;182:3">optional arguments 可包含的常用参数如下：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:11;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:11;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:22;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:23;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:11;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:81;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:172;182:3">名称</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:173;182:3">说明</entry></row></thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:11;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:82;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:174;182:3">--new_desc &lt;new_description&gt;</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:175;182:3">更新对相应快照的描述。</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:83;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:176;182:3">--new_alloc_even {true</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:177;182:3">false}</entry></row></tbody></tgroup></table></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-nfs-snapshot-rollback" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:118;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:118;182:3">zbs-nfs snapshot rollback</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:118;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:572;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:266;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:573;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:94;182:3">zbs-nfs snapshot rollback &lt;export_name&gt; &lt;file_path&gt; &lt;snapshot_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:574;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:267;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:575;182:3">从快照回滚</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-nfs-snapshot-delete" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:119;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:119;182:3">zbs-nfs snapshot delete</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:119;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:576;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:268;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:577;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:95;182:3">zbs-nfs snapshot delete &lt;export_name&gt; &lt;file_path&gt; &lt;snapshot_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:578;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:269;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:579;182:3">删除快照。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:580;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:270;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:56;182:3">[root@localhost test]# zbs-nfs snapshot list smartx test1

ID Snap Name Size Unique Size Shared Size Diff Size Volume Id Creation Time Description

------------------------------------ ---------------------------------------------------------------- ------ ------------- ------------- ----------- ------------------------------------ ----------------------------- -------------

015638eb-e0f7-49b6-a223-c256e4cd9cf6 ddd-214627-2016-11-25-10-40 0.00 B 0.00 B 0.00 B 0.00 B 9bbe6391-4d4e-487c-a56d-82b8aa9dea1b 2016-11-25 18:40:36.730107938 test

[root@localhost test]# zbs-nfs snapshot delete smartx test1 ddd-214627-2016-11-25-10-40

[root@localhost test]# zbs-nfs snapshot list smartx test1

No snapshot found</codeblock></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-nfs-file" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:120;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:120;182:3">zbs-nfs file</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:120;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:581;182:3">NFS 接口除了提供快照功能，还可以对文件进行克隆。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:582;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:271;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:583;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:96;182:3">zbs-nfs file clone &lt;src_export_name&gt; &lt;src_path&gt; &lt;dst_export_name&gt; &lt;dst_path&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:584;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:272;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:585;182:3">克隆文件。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:586;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:273;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:57;182:3">----------- -----------

id 6

name test1_clone

pool 7

preallocate False

volume 5

type 1

mode 420

uid 0

gid 0

size 2

----------- -----------</codeblock></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:121;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:121;182:3">zbs-iscsi</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:121;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:587;182:3">ZBS 除了提供块存储和 NFS 存储外，还支持 iSCSI 协议，用户可以通过 zbs-iscsi 命令对存储进行创建目标（target）、LUN 和快照等进行操作。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:588;182:3">zbs-iscsi 命令主要分为以下几大类：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:12;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:12;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:24;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:25;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:12;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:84;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:178;182:3">类别</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:179;182:3">说明</entry></row></thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:12;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:85;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:180;182:3">target</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:181;182:3">管理目标（target）</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:86;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:182;182:3">initiator_chap</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:183;182:3">管理某个目标的发起程序（initiator）的 CHAP 信息</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:87;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:184;182:3">lun</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:185;182:3">管理 LUN</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:88;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:186;182:3">snapshot</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:187;182:3">管理快照</entry></row></tbody></tgroup></table></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-target" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:122;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:122;182:3">zbs-iscsi target</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:122;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:589;182:3">可以使用 zbs-iscsi target 命令来对 iSCSI 目标做创建、删除等管理。</p><lq class="- topic/lq " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="lq:7;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:590;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:274;182:3">注意：</b>
从 3.0.10 版本开始，目标（target）的名称是不区分大小写的。即便输入大写的名称，ZBS 也会统一转换成并使用小写格式。但是在 3.0.10 之前创建的包含大写字母的目标的名称在 ZBS 中会继续存在。</p></lq></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-target-create" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:123;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:123;182:3">zbs-iscsi target create</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:123;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:591;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:275;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:592;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:97;182:3">zbs-iscsi target create &lt;name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:593;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:276;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:594;182:3">创建指定名字的 iSCSI 目标。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:595;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:277;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:58;182:3">------------- --------------------------------------

ID 79183842-1c18-4d37-aad9-c04fa08da1e7

Name zp-iscsi

IQN Name iqn.2016-02.com.smartx:system:zp-iscsi

Created Time 2018-05-23 16:03:31.591761982

Replica# 2

Thin True

Description

Storage Pool system

Whitelist */*

IQN Whitelist */*

External Use False

------------- --------------------------------------</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-target-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:124;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:124;182:3">zbs-iscsi target list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:124;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:596;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:278;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:597;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:98;182:3">zbs-iscsi target list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:598;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:279;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:599;182:3">列出所有 iSCSI 目标。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:600;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:280;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:59;182:3">ID Name IQN Name Created Time Replica# Thin Description Storage Pool Whitelist IQN Whitelist External Use

------------------------------------ ----------------------------------- ----------------------------------------------------------------- ----------------------------- ---------- ------ ----------------------------------- -------------- ----------- --------------------------- --------------

02914d35-570f-41b5-9d5c-8971fb1b17f2 zbs-iscsi-datastore-1527006609112e iqn.2016-02.com.smartx:system:zbs-iscsi-datastore-1527006609112e 2018-05-23 00:30:09.215901226 2 True system */* */* False

02d19cf5-6b24-4c1a-8006-3fd62196fb00 ax-target2-x180522104517x1 iqn.2016-02.com.smartx:system:ax-target2-x180522104517x1 2018-05-22 10:49:35.205721293 2 True system */* */* False</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-target-show" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:125;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:125;182:3">zbs-iscsi target show</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:125;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:601;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:281;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:602;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:99;182:3">zbs-iscsi target show &lt;name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:603;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:282;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:604;182:3">查看指定 iSCSI 目标的信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:605;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:283;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:60;182:3">------------- --------------------------------------

ID 79183842-1c18-4d37-aad9-c04fa08da1e7

Name zp-iscsi

IQN Name iqn.2016-02.com.smartx:system:zp-iscsi

Created Time 2018-05-23 16:03:31.591761982

Replica# 2

Thin True

Description

Storage Pool system

Whitelist */*

IQN Whitelist */*

External Use False

------------- --------------------------------------</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-target-delete" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:126;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:126;182:3">zbs-iscsi target delete</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:126;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:606;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:284;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:607;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:100;182:3">zbs-iscsi target delete &lt;name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:608;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:285;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:609;182:3">删除指定的 iSCSI 目标。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:610;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:286;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:611;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-target-update" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:127;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:127;182:3">zbs-iscsi target update</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:127;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:612;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:287;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:613;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:101;182:3">zbs-iscsi target update &lt;name_value&gt; [optional arguments]</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:614;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:288;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:615;182:3">更新 iSCSI 目标的信息</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:616;182:3">optional arguments 常用的参数如下：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:13;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:13;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:26;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:27;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:13;182:3">
<row class="- topic/row " outputclass="header" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:89;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:188;182:3">名称</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:189;182:3">说明</entry>
</row>
</thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:13;182:3">
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:90;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:190;182:3">--new_name &lt;new_name_value&gt;</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:191;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:617;182:3">把原名为 name_value 的目标重新命名为 new_name_value。例如：</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:618;182:3">zbs-iscsi target update Colour --new_name Couleur</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:619;182:3">把名字为 Colour 的目标重新命名为 Couleur。</p></entry>
</row>
<row class="- topic/row " outputclass="even" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:91;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:192;182:3">--thin_provision {true|false}</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:193;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:620;182:3">设置目标是否为精简配置。例如：</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:621;182:3">zbs-iscsi target update zp-iscsi --thin_provision false</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:622;182:3">把名为 zp-iscsi 的目标设置为非精简配置。</p></entry>
</row>
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:92;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:194;182:3">--replica_num &lt;replica_factor&gt;</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:195;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:623;182:3">重置 export 的副本数，replica_factor 的取值范围只能是 1、2 或 3，超出此范围会报错。例如：</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:624;182:3">zbs-iscsi target update Organised-exporter --replica_num 3</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:625;182:3">把名为 Organised-exporter 的目标的副本数设置为 3。</p></entry>
</row>
<row class="- topic/row " outputclass="even" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:93;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:196;182:3">--des &lt;description&gt;</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:197;182:3">更新对目标的描述。</entry>
</row>
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:94;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:198;182:3">--whitelist &lt;white_list&gt;</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:199;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:626;182:3">更新可访问此目标的白名单。white_list 的取值可以为：</p>
<ul class="- topic/ul " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="ul:7;182:3">
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:14;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:627;182:3">普通 IP：例如 192.168.67.25</p>
</li>
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:15;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:628;182:3">普通 IP/子网掩码：例如 192.168.10.0/255.255.255.0</p>
</li>
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:16;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:629;182:3">CIDR 块：例如 192.168.10.0/24</p>
</li>
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:17;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:630;182:3">*/*：表示任何 IP 都可以访问此 export</p>
</li>
</ul>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:631;182:3">例如：</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:632;182:3">zbs-iscsi target update zpp-exporter --whitelist '*/*'</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:633;182:3">zbs-iscsi target update zpp-exporter --whitelist 192.168.10.0/255.255.255.0</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:634;182:3">zbs-iscsi target update zpp-exporter --whitelist 192.168.10.0/24</p></entry>
</row>
</tbody></tgroup></table></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-lun" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:128;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:128;182:3">zbs-iscsi lun</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:128;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:635;182:3">可以使用 zbs-iscsi lun 命令来对 iSCSI LUN 进行创建、删除等操作。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-lun-create" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:129;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:129;182:3">zbs-iscsi lun create</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:129;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:636;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:289;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:637;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:102;182:3">zbs-iscsi lun create &lt;target_name&gt; &lt;lun_id&gt; &lt;size&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:638;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:290;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:639;182:3">创建 iSCSI 目标下的 LUN, lun_id 要求大于 0, 小于 256; size 单位为 GB</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:640;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:291;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:61;182:3">------------ ------------------------------------

LUN id 2

LUN name cf626897-1f53-447d-916b-ad0aee487b52

Size 1024.00 MB

Unique size In Process

Shared size In Process

Volume id cf626897-1f53-447d-916b-ad0aee487b52

Creation Time 2016-12-20 16:11:32.614751254

Description

------------ ------------------------------------</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-lun-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:130;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:130;182:3">zbs-iscsi lun list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:130;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:641;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:292;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:642;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:103;182:3">zbs-iscsi lun list &lt;target_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:643;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:293;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:644;182:3">列出指定 iSCSI 目标下的所有 LUN</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:645;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:294;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:62;182:3">LUN id LUN name Size Unique size Shared size Volume id Creation Time Description

-------- ------------------------------------ ---------- ------------- ------------- ------------------------------------ ----------------------------- -------------

2 cf626897-1f53-447d-916b-ad0aee487b52 1024.00 MB In Process In Process cf626897-1f53-447d-916b-ad0aee487b52 2016-12-20 16:11:32.614751254</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-lun-delete" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:131;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:131;182:3">zbs-iscsi lun delete</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:131;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:646;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:295;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:647;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:104;182:3">zbs-iscsi lun delete &lt;target_name&gt; &lt;lun_id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:648;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:296;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:649;182:3">删除 iSCSI 目标下的指定 LUN</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:650;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:297;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:651;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-lun-update" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:132;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:132;182:3">zbs-iscsi lun update</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:132;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:652;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:298;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:653;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:105;182:3">zbs-iscsi lun update [optional arguments] &lt;target_name&gt; &lt;lun_id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:654;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:299;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:655;182:3">扩容。new_size 的单位为 GB</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:656;182:3">optional arguments 常用的参数如下：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:14;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:14;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:28;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:29;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:14;182:3">
<row class="- topic/row " outputclass="header" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:95;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:200;182:3">名称</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:201;182:3">说明</entry>
</row>
</thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:14;182:3">
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:96;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:202;182:3">--new_name &lt;new_name_value&gt;</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:203;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:657;182:3">把目标 target_name 下编号为 lun_id 的 LUN 重新命名为 new_name_value。例如：</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:658;182:3">zbs-iscsi lun update --new_name zp-LUN zp-iscsi 3</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:659;182:3">把目标 zp-iscsi 下的编号为 3 的 LUN 重新命名为 zp-LUN。</p></entry>
</row>
<row class="- topic/row " outputclass="even" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:97;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:204;182:3">--size &lt;new_size_in_GB&gt;</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:205;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:660;182:3">重新设置 LUN 的容量。例如：</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:661;182:3">zbs-iscsi lun update --size 2 zp-iscsi 3</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:662;182:3">把目标 zp-iscsi 下的编号为 3 的 LUN 的容量变为 2 GB。</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:663;182:3">注意：新设置容量不能小于原容量，否则报错。因此，此命令用来为 LUN 扩容。</p></entry>
</row>
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:98;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:206;182:3">--reset_pr {true|false}</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:207;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:664;182:3">是否清理目标 target_name 下编号为 lun_id 的 LUN 的永久保留（persistent reservation）。例如：</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:665;182:3">zbs-iscsi lun update --reset_pr true fl-iscsi 1</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:666;182:3">上述例子表示要清理目标 fl-iscsi 下的编号为 1 的 LUN 的永久保留。</p></entry>
</row>
</tbody></tgroup></table></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-lun-show" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:133;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:133;182:3">zbs-iscsi lun show</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:133;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:667;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:300;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:668;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:106;182:3">zbs-iscsi lun show --all &lt;target_name&gt; &lt;lun_id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:669;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:301;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:670;182:3">查看一个 LUN 对应的 PR （persistent reservation）信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:671;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:302;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:63;182:3">LUN Id 1
LUN Name 97e00100-b047-477b-a7a5-2ff034b6d421
Size 1024.00 MB
Unique Size 0.00 B
Shared Size 0.00 B
Volume id 97e00100-b047-477b-a7a5-2ff034b6d421
Creation Time 2019-02-14 16:06:01.114064348
Description
NAA 3374d740bd00100e7
PR gen: 2680
regs {
key: 534
pr_scope: 0
pr_type: 0
it_nexus: "iqn.xxxx.com:test1,i,0x1,iqn.2016-02.com.example:system:exampleTargetName,t,0x0001"
}</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-lun-reset-pr" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:134;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:134;182:3">zbs-iscsi lun reset_pr</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:134;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:672;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:303;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:673;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:107;182:3">zbs-iscsi lun reset_pr &lt;target_name&gt; &lt;lun_id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:674;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:304;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:675;182:3">清空 LUN 的永久保留（persistent reservation - PR）信息，如异常情况下发现 LUN 有残留的 PR，或者存在不需要的注册者（registrants）</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:676;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:305;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:677;182:3">无。</p></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-snapshot" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:135;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:135;182:3">zbs-iscsi snapshot</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:135;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:678;182:3">可以使用 zbs-iscsi snapshot 来对 iSCSI LUN 进行快照的管理。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-snapshot-create" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:136;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:136;182:3">zbs-iscsi snapshot create</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:136;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:679;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:306;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:680;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:108;182:3">zbs-iscsi snapshot create &lt;target_name&gt; &lt;lun_id&gt; &lt;name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:681;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:307;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:682;182:3">创建 LUN 的快照。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:683;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:308;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:64;182:3">------------ ------------------------------------

ID 142d20ff-57ae-4b45-83ec-24afa98c3ea2

Snap Name demo-snap-1

Size 1024.00 MB

Unique Size In Process

Shared Size In Process

Diff Size 0.00 B

Volume Id 29691f15-e732-4747-ab90-593a7a6b2e8d

Creation Time 2016-12-20 16:15:44.503046798

Description

------------ ------------------------------------</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-snapshot-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:137;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:137;182:3">zbs-iscsi snapshot list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:137;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:684;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:309;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:685;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:109;182:3">zbs-iscsi snapshot list &lt;target_name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:686;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:310;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:65;182:3">ID Snap Name Size Unique Size Shared Size Diff Size Volume Id Creation Time Description

------------------------------------ ----------- ---------- ------------- ------------- ----------- ------------------------------------ ----------------------------- -------------

142d20ff-57ae-4b45-83ec-24afa98c3ea2 demo-snap-1 1024.00 MB In Process In Process 0.00 B 29691f15-e732-4747-ab90-593a7a6b2e8d 2016-12-20 16:15:44.503046798
</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-snapshot-delete" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:138;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:138;182:3">zbs-iscsi snapshot delete</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:138;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:687;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:311;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:688;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:110;182:3">zbs-iscsi snapshot delete &lt;target_name&gt; &lt;lun_id&gt; &lt;name&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:689;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:312;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:690;182:3">删除 LUN 的快照。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:691;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:313;182:3">输出</b>：</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:692;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-snapshot-rollback-by-id" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:139;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:139;182:3">zbs-iscsi snapshot rollback_by_id</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:139;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:693;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:314;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:694;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:111;182:3">zbs-iscsi snapshot rollback_by_id &lt;target_name&gt; &lt;lun_id&gt; &lt;snapshot_id&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:695;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:315;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:696;182:3">将快照回滚至指定的 LUN 中，快照可以是其他 LUN 的快照，而非原始 LUN 的快照。在执行操作后，LUN 内的数据会被快照的数据完整替换。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:697;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:316;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:698;182:3">无。</p></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-initiator-chap" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:140;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:140;182:3">zbs-iscsi initiator_chap</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:140;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:699;182:3">可以使用 zbs-iscsi initiator_chap 来对 iSCSI target 进行 CHAP 单、双向认证的管理。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-initiator-chap-create" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:141;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:141;182:3">zbs-iscsi initiator_chap create</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:141;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:700;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:317;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:701;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:112;182:3">zbs-iscsi initiator_chap create [-h] &lt;name&gt; &lt;iqn&gt; &lt;chap_name&gt; &lt;chap_password&gt; {true|false}</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:702;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:318;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:703;182:3">initiator 认证</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:66;182:3">
[root@scvm31 12:38:25 ~]$target=fl-iscsi-chap;initiator=xxxxxx;zbs-iscsi initiator_chap create $target $initiator test abc123456789 true

------------- -------------------------------------------

ID c640ae8b-5d78-47fc-8018-54dbc061ca99

Name fl-iscsi-chap

IQN Name iqn.2016-02.com.smartx:system:fl-iscsi-chap

Creation Time 2019-03-21 12:31:19.373503032

Replica# 2

Thin true

Description

Storage Pool system

Whitelist */*

IQN Whitelist */*

External Use false

------------- -------------------------------------------</codeblock><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:704;182:3">target 认证</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:67;182:3">[root@scvm31 12:40:57 ~]$zbs-iscsi target update --enable_target_chap true --target_chap_name xxx2 --target_secret abc123456789 fl-iscsi-chap

------------- -------------------------------------------

ID c640ae8b-5d78-47fc-8018-54dbc061ca99

Name fl-iscsi-chap

IQN Name iqn.2016-02.com.smartx:system:fl-iscsi-chap

Creation Time 2019-03-21 12:31:19.373503032

Replica# 2

Thin true

Description

Storage Pool system

Whitelist */*

IQN Whitelist */*

External Use false

------------- -------------------------------------------
</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-iscsi-initiator-chap-remove" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:142;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:142;182:3">zbs-iscsi initiator_chap remove</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:142;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:705;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:319;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:706;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:113;182:3">zbs-iscsi initiator_chap remove [-h] name iqn</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:707;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:320;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:708;182:3">移除 initiator 认证</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:68;182:3">[root@scvm31 12:44:34 ~]$target=fl-iscsi-chap;initiator=xxxxxx;zbs-iscsi initiator_chap remove $target $initiator

------------- -------------------------------------------

ID c640ae8b-5d78-47fc-8018-54dbc061ca99

Name fl-iscsi-chap

IQN Name iqn.2016-02.com.smartx:system:fl-iscsi-chap

Creation Time 2019-03-21 12:31:19.373503032

Replica# 2

Thin True

Description

Storage Pool system

Whitelist */*

IQN Whitelist */*

External Use False

------------- -------------------------------------------</codeblock><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:709;182:3">移除 target 认证</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:69;182:3">[root@scvm31 12:47:52 ~]$zbs-iscsi target update --remove_target_chap true --target_chap_name xxx2 --target_secret abc123456789 fl-iscsi-chap

------------- -------------------------------------------

ID c640ae8b-5d78-47fc-8018-54dbc061ca99

Name fl-iscsi-chap

IQN Name iqn.2016-02.com.smartx:system:fl-iscsi-chap

Creation Time 2019-03-21 12:31:19.373503032

Replica# 2

Thin True

Description

Storage Pool system

Whitelist */*

IQN Whitelist */*

External Use False

------------- -------------------------------------------</codeblock></body></topic></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-task" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:143;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:143;182:3">zbs-task</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:143;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:710;182:3">zbs-task 主要用来查看集群任务运行状态信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:711;182:3">zbs-task 命令主要分为以下几大类：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:15;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:15;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:30;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:31;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:15;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:99;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:208;182:3">类别</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:209;182:3">说明</entry></row></thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:15;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:100;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:210;182:3">runner</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:211;182:3">任务执行者状况</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:101;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:212;182:3">task</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:213;182:3">任务命令</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:102;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:214;182:3">storage_pool</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:215;182:3">存储池命令</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:103;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:216;182:3">vip</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:217;182:3">虚拟 IP 命令</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:104;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:218;182:3">backup</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:219;182:3">备份快照</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:105;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:220;182:3">restore</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:221;182:3">取回快照命令</entry></row></tbody></tgroup></table></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-task-runner" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:144;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:144;182:3">zbs-task runner</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:144;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:712;182:3">用户可以通过使用 runner 查看当前集群中任务运行者的情况。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-task-runner-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:145;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:145;182:3">zbs-task runner list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:145;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:713;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:321;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:714;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:114;182:3">zbs-task runner list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:715;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:322;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:70;182:3">ip port

---------- ------

10.0.10.15 10601

10.0.10.16 10601

10.0.10.17 10601
</codeblock></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-task-task" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:146;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:146;182:3">zbs-task task</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:146;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:716;182:3">用户可以通过使用 task 来查看当前运行中或已结束的任务。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:717;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:323;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:718;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:115;182:3">zbs-task task list_by_status {unfinished|finished} [optional arguments]</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:719;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:324;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:720;182:3">列出处于 unfinished 或 finished 状态的任务</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:721;182:3">optional arguments 可包含的常用参数如下：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:16;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:16;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:32;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:33;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:16;182:3">
<row class="- topic/row " outputclass="header" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:106;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:222;182:3">名称</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:223;182:3">说明</entry>
</row>
</thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:16;182:3">
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:107;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:224;182:3">--task_type &lt;task_type_value&gt;</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:225;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:722;182:3">task_type_value 取值可为以下任何一种：</p>
<ul class="- topic/ul " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="ul:8;182:3">
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:18;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:723;182:3">storage_pool：存储池</p>
</li>
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:19;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:724;182:3">backup：备份</p>
</li>
<li class="- topic/li " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="li:20;182:3">
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:725;182:3">restore：取回</p>
</li>
</ul></entry>
</row>
</tbody></tgroup></table><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:726;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:325;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:71;182:3">No task found</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-task-storage-pool" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:147;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:147;182:3">zbs-task storage_pool</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:147;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:727;182:3">用户可以通过使用 storage_pool 来发起跨存储池的数据拷贝/移动任务。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:728;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:326;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:729;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:116;182:3">zbs-task storage_pool move_volume &lt;src_volume_id&gt; &lt;src_volume_name&gt; &lt;volume_size&gt; &lt;replica_num&gt; &lt;dst_pool_name&gt; &lt;thin_provision&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:730;182:3">参数含义如下：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:17;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:17;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:34;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:35;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:17;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:108;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:226;182:3">参数</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:227;182:3">说明</entry></row></thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:17;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:109;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:228;182:3">src_volume_id</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:229;182:3">源存储卷 UUID。</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:110;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:230;182:3">src_volume_name</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:231;182:3">源存储卷名称。</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:111;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:232;182:3">volume_size</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:233;182:3">源存储卷容量（GB）。</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:112;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:234;182:3">replica_num</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:235;182:3">副本数。</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:113;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:236;182:3">dst_pool_name</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:237;182:3">目的存储池。</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:114;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:238;182:3">thin_provision</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:239;182:3">设置是否为精简配置。取值为 true 或 false。</entry></row></tbody></tgroup></table></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-task-vip" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:148;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:148;182:3">zbs-task vip</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:148;182:3"/><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-task-vip-set" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:149;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:149;182:3">zbs-task vip set</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:149;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:731;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:327;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:732;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:117;182:3">zbs-task vip set &lt;service_name&gt; &lt;ipv4_vip&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:733;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:328;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:734;182:3">把名为 service_name 的服务的 VIP 设为 ipv4_vip</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:735;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:329;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:736;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-task-vip-delete" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:150;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:150;182:3">zbs-task vip delete</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:150;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:737;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:330;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:738;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:118;182:3">zbs-task vip delete &lt;service_name&gt; &lt;ipv4_vip&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:739;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:331;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:740;182:3">删除名为 service_name 的服务的指定 VIP</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:741;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:332;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:742;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-task-vip-show" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:151;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:151;182:3">zbs-task vip show</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:151;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:743;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:333;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:744;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:119;182:3">zbs-task vip show</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:745;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:334;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:746;182:3">列出所有的 VIP</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:747;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:335;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:72;182:3">service_name ip

-------------- -------------

iscsi 10.10.1.21

management 192.168.49.20</codeblock></body></topic></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-tool" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:152;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:152;182:3">zbs-tool</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:152;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:748;182:3">zbs-tool 主要用来查看集群状态信息，比如 MongoDB 状态、ZooKeeper 状态等等。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:749;182:3">zbs-tool 命令主要分为以下几大类：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:18;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:18;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:36;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:37;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:18;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:115;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:240;182:3">类别</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:241;182:3">说明</entry></row></thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:18;182:3"><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:116;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:242;182:3">zk</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:243;182:3">显示、修改该主机上配置的 ZooKeeper 集群信息</entry></row><row class="- topic/row " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:117;182:3"><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:244;182:3">service</entry><entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:245;182:3">显示、修改 ZooKeeper 上的服务信息</entry></row></tbody></tgroup></table></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-tool-zk" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:153;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:153;182:3">zbs-tool zk</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:153;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:750;182:3">展示或修改本地节点的 ZooKeeper 配置信息。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-tool-zk-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:154;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:154;182:3">zbs-tool zk list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:154;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:751;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:336;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:752;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:120;182:3">zbs-tool zk list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:753;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:337;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:754;182:3">查看 ZooKeeper 节点信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:755;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:338;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:73;182:3">10.0.0.20:2181 follower 0x100283d03

10.0.0.21:2181 follower 0x100283d03

10.0.0.22:2181 leader 0x100283d03</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-tool-zk-status" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:155;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:155;182:3">zbs-tool zk status</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:155;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:756;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:339;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:757;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:121;182:3">zbs-tool zk status</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:758;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:340;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:759;182:3">查看 ZooKeeper 节点状态。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:760;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:341;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:74;182:3">10.0.0.20:2181: imok

10.0.0.21:2181: imok

10.0.0.22:2181: imok</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-tool-zk-stat" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:156;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:156;182:3">zbs-tool zk stat</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:156;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:761;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:342;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:762;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:122;182:3">zbs-tool zk stat</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:763;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:343;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:764;182:3">查看 ZooKeeper 运行状态。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:765;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:344;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:75;182:3">10.0.0.20:2181:

'Zookeeper version: 3.4.10-e52e475caf7498b144747d385f506fd1e4633805, built on 05/26/2017 06:34 GMT',

'Clients:',

' /10.0.0.21:52096[1](queued=0,recved=744650,sent=744653)',

' /10.0.0.20:60854[0](queued=0,recved=1,sent=0)',

' /127.0.0.1:49670[1](queued=0,recved=760070,sent=760073)',

' /10.0.0.20:56422[1](queued=0,recved=744664,sent=744665)',

' /10.0.0.21:33376[1](queued=0,recved=801599,sent=862293)',

'',

'Latency min/avg/max: 0/0/416',

'Received: 11410101',

'Sent: 11470787',

'Connections: 5',

'Outstanding: 0',

'Zxid: 0x100283d92',

'Mode: follower',

'Node count: 66587'

10.0.0.21:2181:

'Zookeeper version: 3.4.10-e52e475caf7498b144747d385f506fd1e4633805, built on 05/26/2017 06:34 GMT',

'Clients:',

' /10.0.0.20:41850[0](queued=0,recved=1,sent=0)',

' /127.0.0.1:42782[1](queued=0,recved=745501,sent=745502)',

' /10.0.0.22:60862[1](queued=0,recved=962487,sent=962493)',

'',

'Latency min/avg/max: 0/0/471',

'Received: 11280117',

'Sent: 11367021',

'Connections: 3',

'Outstanding: 0',

'Zxid: 0x100283d92',

'Mode: follower',

'Node count: 66587'

10.0.0.22:2181:

'Zookeeper version: 3.4.10-e52e475caf7498b144747d385f506fd1e4633805, built on 05/26/2017 06:34 GMT',

'Clients:',

' /127.0.0.1:40366[1](queued=0,recved=745506,sent=745508)',

' /10.0.0.20:35414[0](queued=0,recved=1,sent=0)',

'',

'Latency min/avg/max: 0/0/342',

'Received: 10439145',

'Sent: 10465673',

'Connections: 2',

'Outstanding: 0',

'Zxid: 0x100283d92',

'Mode: leader',

'Node count: 66587'</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-tool-zk-env" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:157;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:157;182:3">zbs-tool zk env</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:157;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:766;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:345;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:767;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:123;182:3">zbs-tool zk env</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:768;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:346;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:769;182:3">查看 ZooKeeper 运行环境。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:770;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:347;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:76;182:3">10.0.0.20:2181:

'Environment:',

'zookeeper.version=3.4.10-e52e475caf7498b144747d385f506fd1e4633805, built on 05/26/2017 06:34 GMT',

'host.name=&lt;NA&gt;',

'java.version=1.8.0_131',

'java.vendor=Oracle Corporation',

'java.home=/usr/java/jdk1.8.0_131/jre',

'java.class.path=/usr/sbin/../build/classes:/usr/sbin/../build/lib/\*.jar:/usr/sbin/../share/zookeeper/zookeeper-3.4.10.jar:/usr/sbin/../share/zookeeper/slf4j-log4j12-1.6.1.jar:/usr/sbin/../share/zookeeper/slf4j-api-1.6.1.jar:/usr/sbin/../share/zookeeper/netty-3.10.5.Final.jar:/usr/sbin/../share/zookeeper/log4j-1.2.16.jar:/usr/sbin/../share/zookeeper/jline-0.9.94.jar:/usr/sbin/../src/java/lib/\*.jar:/etc/zookeeper:',

'java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib',

'java.io.tmpdir=/tmp',

'java.compiler=&lt;NA&gt;',

'os.name=Linux',

'os.arch=amd64',

'os.version=3.10.0-327.36.3.el7.smartx.2.x86_64',

'user.name=zookeeper',

'user.home=/usr/share/zookeeper',

'user.dir=/'

10.0.0.21:2181:

'Environment:',

'zookeeper.version=3.4.10-e52e475caf7498b144747d385f506fd1e4633805, built on 05/26/2017 06:34 GMT',

'host.name=&lt;NA&gt;',

'java.version=1.8.0_131',

'java.vendor=Oracle Corporation',

'java.home=/usr/java/jdk1.8.0_131/jre',

'java.class.path=/usr/sbin/../build/classes:/usr/sbin/../build/lib/\*.jar:/usr/sbin/../share/zookeeper/zookeeper-3.4.10.jar:/usr/sbin/../share/zookeeper/slf4j-log4j12-1.6.1.jar:/usr/sbin/../share/zookeeper/slf4j-api-1.6.1.jar:/usr/sbin/../share/zookeeper/netty-3.10.5.Final.jar:/usr/sbin/../share/zookeeper/log4j-1.2.16.jar:/usr/sbin/../share/zookeeper/jline-0.9.94.jar:/usr/sbin/../src/java/lib/\*.jar:/etc/zookeeper:',

'java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib',

'java.io.tmpdir=/tmp',

'java.compiler=&lt;NA&gt;',

'os.name=Linux',

'os.arch=amd64',

'os.version=3.10.0-327.36.3.el7.smartx.2.x86_64',

'user.name=zookeeper',

'user.home=/usr/share/zookeeper',

'user.dir=/'

10.0.0.22:2181:

'Environment:',

'zookeeper.version=3.4.10-e52e475caf7498b144747d385f506fd1e4633805, built on 05/26/2017 06:34 GMT',

'host.name=&lt;NA&gt;',

'java.version=1.8.0_131',

'java.vendor=Oracle Corporation',

'java.home=/usr/java/jdk1.8.0_131/jre',

'java.class.path=/usr/sbin/../build/classes:/usr/sbin/../build/lib/\*.jar:/usr/sbin/../share/zookeeper/zookeeper-3.4.10.jar:/usr/sbin/../share/zookeeper/slf4j-log4j12-1.6.1.jar:/usr/sbin/../share/zookeeper/slf4j-api-1.6.1.jar:/usr/sbin/../share/zookeeper/netty-3.10.5.Final.jar:/usr/sbin/../share/zookeeper/log4j-1.2.16.jar:/usr/sbin/../share/zookeeper/jline-0.9.94.jar:/usr/sbin/../src/java/lib/\*.jar:/etc/zookeeper:',

'java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib',

'java.io.tmpdir=/tmp',

'java.compiler=&lt;NA&gt;',

'os.name=Linux',

'os.arch=amd64',

'os.version=3.10.0-327.36.3.el7.smartx.2.x86_64',

'user.name=zookeeper',

'user.home=/usr/share/zookeeper',

'user.dir=/'
</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-tool-zk-detail" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:158;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:158;182:3">zbs-tool zk detail</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:158;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:771;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:348;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:772;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:124;182:3">zbs-tool zk detail</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:773;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:349;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:774;182:3">查看 ZooKeeper 详细信息。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:775;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:350;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:77;182:3">10.0.0.20:2181:

'Zookeeper version: 3.4.10-e52e475caf7498b144747d385f506fd1e4633805, built on 05/26/2017 06:34 GMT',

'Latency min/avg/max: 0/0/416',

'Received: 11412218',

'Sent: 11472904',

'Connections: 5',

'Outstanding: 0',

'Zxid: 0x100283f5b',

'Mode: follower',

'Node count: 66652'

10.0.0.21:2181:

'Zookeeper version: 3.4.10-e52e475caf7498b144747d385f506fd1e4633805, built on 05/26/2017 06:34 GMT',

'Latency min/avg/max: 0/0/471',

'Received: 11281456',

'Sent: 11368360',

'Connections: 3',

'Outstanding: 0',

'Zxid: 0x100283f5b',

'Mode: follower',

'Node count: 66652'

10.0.0.22:2181:

'Zookeeper version: 3.4.10-e52e475caf7498b144747d385f506fd1e4633805, built on 05/26/2017 06:34 GMT',

'Latency min/avg/max: 0/0/342',

'Received: 10440464',

'Sent: 10466992',

'Connections: 2',

'Outstanding: 0',

'Zxid: 0x100283f5b',

'Mode: leader',

'Node count: 66652'
</codeblock></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-tool-service" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:159;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:159;182:3">zbs-tool service</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:159;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:776;182:3">用户可以通过使用此命令查看当前集群的整体状态及 leader 节点的 IP，从而判断集群是否在正常运行。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-tool-service-list" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:160;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:160;182:3">zbs-tool service list</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:160;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:777;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:351;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:778;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:125;182:3">zbs-tool service list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:779;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:352;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:78;182:3">Name Members Leader Specified members

------ -------------------------------------- --------------- ---------------------------------------------------------

meta ['10.10.0.1:10100', '10.10.0.3:10100'] 10.10.0.3:10100 ['10.10.0.1:10100', '10.10.0.2:10100', '10.10.0.3:10100']</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-tool-service-set-priority" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:161;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:161;182:3">zbs-tool service set_priority</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:161;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:780;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:353;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:781;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:126;182:3">zbs-tool service set_priority &lt;service_name&gt; &lt;priority&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:782;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:354;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:783;182:3">把名为 service_name 的服务的优先级设置为 priority</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:784;182:3">参数含义如下：</p><table class="- topic/table " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="table:19;182:3"><tgroup class="- topic/tgroup " cols="2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tgroup:19;182:3"><colspec class="- topic/colspec " colname="col1" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:38;182:3"/><colspec class="- topic/colspec " colname="col2" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="colspec:39;182:3"/><thead class="- topic/thead " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="thead:19;182:3">
<row class="- topic/row " outputclass="header" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:118;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:246;182:3">参数</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:247;182:3">说明</entry>
</row>
</thead><tbody class="- topic/tbody " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="tbody:19;182:3">
<row class="- topic/row " outputclass="odd" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:119;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:248;182:3">service_name</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:249;182:3">欲为其设置优先级的服务名。目前可取值范围为运行 zbs-tool service list 所列出的服务名。</entry>
</row>
<row class="- topic/row " outputclass="even" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="row:120;182:3">
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:250;182:3">priority</entry>
<entry class="- topic/entry " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="entry:251;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:785;182:3">服务的优先级。格式为：</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:786;182:3">一个或多个 ip:port:priorite 对，多个这样的对之间用逗号分隔。 其中 priorite 的取值范围是 [0,255]。默认值是 192.168.1.1:10100:1,192.168.1.2:10100:2。</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:787;182:3">下例中，把 taskd 服务的两个成员 10.0.100.42:10602 和 10.0.100.53:10600 的优先级分别设置为 2 和 254。</p>
<p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:788;182:3">zbs-tool service set_priority taskd 10.0.100.42:10602:2,10.0.100.53:10600:254。</p></entry>
</row>
</tbody></tgroup></table><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:789;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:355;182:3">输出：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:790;182:3">无。</p></body></topic></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-perf" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:162;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:162;182:3">zbs-perf</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:162;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:791;182:3">zbs-perf 主要用来查看 NFS 文件或者 iSCSI LUN 的性能。</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-perf-nfs-file" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:163;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:163;182:3">zbs-perf nfs_file</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:163;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:792;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:356;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:793;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:127;182:3">zbs-perf --local_ip &lt;local_ip&gt; nfs_file list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:794;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:357;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:795;182:3">展示指定 IP 地址的 NFS 文件的性能数据。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:796;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:358;182:3">输出</b>：</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:79;182:3">--------------- ------------------------------------

volume_id 29397d6c-c9ac-4b8e-a961-3c51c39c1a44

read_iops 0.0

read_avgrq 0 B

read_avgqz 0.0

read_bandwidth 0 B/s

read_latency 0.0 NS

write_iops 24.0

write_avgrq 3.98 KB

write_avgqz 0.0

write_bandwidth 95.50 KB/s

write_latency 512.41 US

--------------- ------------------------------------</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-perf-iscsi-lun" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:164;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:164;182:3">zbs-perf iscsi_lun</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:164;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:797;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:359;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:798;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:128;182:3">zbs-perf --local_ip *&lt;local_ip&gt;* iscsi_lun list</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:799;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:360;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:800;182:3">展示指定 IP 地址的 iSCSI LUN 的性能数据</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:801;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:361;182:3">输出：</b></p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeblock:80;182:3">**

--------------- ------------------------------------

volume_id c9a2f945-158b-4da2-aa69-87c7e5294b3e

read_iops 0.0

read_avgrq 0 B

read_avgqz 0.0

read_bandwidth 0 B/s

read_latency 0.0 NS

write_iops 3634.0

write_avgrq 4.00 KB

write_avgqz 126.5

write_bandwidth 14.20 MB/s

write_latency 34.82 MS

--------------- ------------------------------------</codeblock></body></topic></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-cluster" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:165;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:165;182:3">zbs-cluster</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:165;182:3"/><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-cluster-convert-to-master" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:166;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:166;182:3">zbs-cluster convert_to_master</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:166;182:3"><lq class="- topic/lq " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="lq:8;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:802;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:362;182:3">注意：</b>
该命令仅限 SmartX 官方售后人员操作。</p></lq><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:803;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:363;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:804;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:129;182:3">zbs-cluster convert_to_master &lt;data_ip&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:805;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:364;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:806;182:3">将存储节点转换为主节点，其中 data_ip 是被转换节点的存储 IP。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:807;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:365;182:3">输出:</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:808;182:3">无。</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zbs-cluster-convert-to-storage" xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="topic:167;182:3"><title class="- topic/title " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="title:167;182:3">zbs-cluster convert_to_storage</title><body class="- topic/body " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="body:167;182:3"><lq class="- topic/lq " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="lq:9;182:3"><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:809;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:366;182:3">注意：</b>
该命令仅限 SmartX 官方售后人员操作。</p></lq><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:810;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:367;182:3">语法：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:811;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="codeph:130;182:3">zbs-cluster convert_to_storage &lt;data_ip&gt;</codeph></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:812;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:368;182:3">描述：</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:813;182:3">将主节点转换为存储节点，其中 data_ip 是被转换节点的存储 IP。</p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:814;182:3"><b class="+ topic/ph hi-d/b " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="b:369;182:3">输出:</b></p><p class="- topic/p " xtrf="file:/d:/safehaven/content/块存储命令参考手册.md" xtrc="p:815;182:3">无。</p></body></topic></topic></topic>